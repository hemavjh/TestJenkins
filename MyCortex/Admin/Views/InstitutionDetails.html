<!-- Institution Details Create Page -->
<head>
    <style type="text/css">
        input[type='file'] {
            opacity: 0;
        }
    </style>
    <script>
        $('#btnLogo').click(function () {
            $("#InstitutionLogo").trigger('click');
        })

        $(document).ready(function () {
            var image = $('#InstitutionLogo').val();
            $image_crop = $('#image_demo').croppie({
                enableExif: true,
                url: image,
                viewport: {
                    width: 200,
                    height: 200,
                    type: 'square' //circle
                },
                boundary: {
                    width: 300,
                    height: 300
                },
                points: {
                    topLeftX: 0,
                    topLeftY: 0,
                    bottomRightX: 0,
                    bottomRightY: 0
                }
            });

            $('#InstitutionLogo').on('change', function () {
                var reader = new FileReader();
                reader.onload = function (event) {
                    $image_crop.croppie('bind', {
                        url: event.target.result
                    }).then(function () {
                        console.log('jQuery bind complete');
                    });
                }
                reader.readAsDataURL(this.files[0]);
                $('#insertimageModal').modal('show');
            });

            $('.crop_image').click(function (event) {
                $image_crop.croppie('result', {
                    type: 'base64',
                    format: 'jpeg',
                    //type: 'canvas',
                    size: 'viewport'
                    //size: {width: 150, height: 200}
                }).then(function (response) {
                    $('#item-img-output').attr('src', response);
                    $('#insertimageModal').modal('hide');
                });
            });

        });

        //$('.selectpicker').on('change', function () {
        //    var selected = []
        //    selected = $('.selectpicker').val()
        //   //// console.log(selected); //Get the multiple values selected in an array
        //   // console.log(selected.length); //Length of the array
        //});

        //$('.selectpicker').on('changed.bs.select', function (e) {
        //    var selected = e.target.value;
        //});
        //$('.selectpicker').selectpicker('refresh');
    </script>
</head>
<ul class="secondaryMenu">
    <li>
        <a class="secondaryMenuActive" href="Home/Index#/InstitutionHospitalAdmin_view">Institution</a>
    </li>
    <li>
        <a href="Home/Index#/InstitutionSubscriptionHospitalAdmin_view">Subscription</a>
    </li>
    <li><a href="Home/Index#/HospitalAdmin_UserList/2">Clinical User</a></li>
</ul>

<h1 class="page-title">Institution</h1>
<div ng-init="InstitutionDetails_View(1);">

    <div class="lds-ripple" id="chatLoaderPV" style="display: none;z-index:10000"><div></div><div></div></div>

    <div id="Basic1">

        <form class="form-horizontal" role="form">
            <div class="row">
                <div class="col-sm-6">
                    <div id="tableid" class="panel panel-default">
                        <div class="panel-body">
                            <div class="inputGroups">
                                <label>Name<sup><font class='mandatory-field'>*</font></sup></label>
                                <input type="text" ng-disabled="true" class="form-control" id="Text5" ng-model="Institution_Name"
                                       ng-init="Institution_Name=''" ng-maxlength="100" maxlength="100" placeholder=""
                                       onkeypress="">
                            </div>
                            <div class="inputGroups">
                                <label>Short Name<sup><font class='mandatory-field'>*</font></sup></label>
                                <input type="text" class="form-control" id="Text1" ng-model="INSTITUTION_SHORTNAME"
                                       ng-init="INSTITUTION_SHORTNAME=''" ng-maxlength="100" maxlength="100" placeholder=""
                                       onkeypress="">
                            </div>
                            <div class="inputGroups">
                                <label>Email<sup><font class='mandatory-field'>*</font></sup></label>
                                <input type="text" class="form-control" id="Text32" ng-model="Email" ng-init="Email=''"
                                       maxlength="50" ng-maxlength="50" placeholder="" onkeypress="">
                            </div>
                            <div class="inputGroups">
                                <label>
                                    Logo Upload

                                </label>


                                <input type="file" id="InstitutionLogo" fileread="uploadme" onchange="angular.element(this).scope().photoChange(this)"
                                       name="FileName" title="Click to Upload Logo" style="height: 0px !important; display: none;"
                                       accept="image/x-png,image/gif,image/jpeg" ng-click="PhotoUplaodSelected()" />

                                <img src="{{uploadme}}" class="institutionLogo" ng-show="(uploadme != '')" />
                                <img src="../../Images/noImage.jpg" class="institutionLogo" ng-show="(uploadme == '')" />

                                <div class="mt-20">
                                    <label for="InstitutionLogo" class="theme-btn-1 mr-10" title="Click to Upload Logo">Upload</label>
                                    <a class="theme-btn-2" href="javascript:" ng-click="imageclear();PhotoUplaodSelected();" title="Clear" ng-show="(uploadme != null)">
                                        Clear
                                    </a>
                                </div>

                            </div>

                        </div>


                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="panel panel-default" id="Div1">
                        <div class="panel-body">
                            <div class="inputGroups">
                                <label>Address</label>
                                <input type="text" class="form-control mb-5" id="Text9" ng-model="Address1" ng-init="Address1=''"
                                       maxlength="50" ng-maxlength="50" placeholder="" onkeypress="">
                                <input type="text" class="form-control mb-5" id="Text4" ng-model="Address2" ng-init="Address2=''"
                                       maxlength="50" ng-maxlength="50" placeholder="" onkeypress="">
                                <input type="text" class="form-control" id="Text7" ng-model="Address3" ng-init="Address3=''"
                                       maxlength="50" ng-maxlength="50" placeholder="" onkeypress="">
                            </div>
                            <div class="inputGroups">
                                <label>Postal / Zip code</label>
                                <input type="text" class="form-control" id="Text19" ng-model="ZipCode" ng-init="ZipCode=''"
                                       maxlength="20" ng-maxlength="20" placeholder="" onkeypress="NoSpecChar(event)">
                            </div>
                            <div class="inputGroups">
                                <label>Country<sup><font class='mandatory-field'>*</font></sup></label>

                                <select class="form-control" data-style="form-control"
                                        data-live-search="true" id="countryselectpicker"
                                        data-selectpicker data-collection-name="CountryNameList"
                                        ng-model="CountryId" ng-change="CountryBased_StateFunction();StateClearFunction();">
                                    <option value="0">Select</option>
                                    <option ng-repeat="sel in CountryNameList"
                                            ng-required="true" value="{{sel.Id}}">
                                        {{sel.CountryName}}
                                    </option>
                                </select>
                            </div>
                            <div class="inputGroups">
                                <label>State<sup><font class='mandatory-field'>*</font></sup></label>
                                <select class="form-control" data-style="form-control"
                                        id="stateselectpicker" data-live-search="true"
                                        data-selectpicker data-collection-name="StateName_List"
                                        ng-model="StateNameId" ng-change="StateBased_CityFunction();LocationClearFunction();">
                                    <option value="0">Select</option>
                                    <option ng-repeat="sel in StateName_List  "
                                            ng-required="true" value="{{sel.Id}}">
                                        {{sel.StateName}}
                                    </option>
                                </select>
                            </div>
                            <div class="inputGroups">
                                <label>City<sup><font class='mandatory-field'>*</font></sup></label>
                                <select class="form-control" data-style="form-control"
                                        data-live-search="true" data-selectpicker
                                        data-collection-name="LocationName_List"
                                        ng-model="LocationNameId">
                                    <option value="0">Select</option>
                                    <option ng-repeat="sel in LocationName_List "
                                            ng-required="true" value="{{sel.Id}}">
                                        {{sel.LocationName}}
                                    </option>
                                </select>
                            </div>
                        </div>


                    </div>
                </div>
            </div>


        </form>

        <div class="text-center mb-20">
            <button type="button" class="theme-btn-1 mr-10" id="btnsave" title="Click to Save" ng-click="Institution_AddEdit()">
                Save
            </button>
            <button type="button" class="theme-btn-2" title="Click to Cancel" ng-click="CancelInstitutionHospitalAdmin()">
                Cancel
            </button>
        </div>
    </div>

</div>
<script>
    $("#RegistrationDate").bootstrapDP({
        format: "dd-M-yyyy",
        forceParse: true,
        autoclose: true,
        todayHighlight: true,
        toggleActive: true,
        todayBtn: true
    });
</script>
