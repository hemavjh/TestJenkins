<script>
    $(document).ready(function () {
        $(document).ready(function () {
            $('[data-toggle="tooltip"]').tooltip();
        });
        $('.menuList button').on('click', function () {
            $('.menuList button').removeClass('activeButton');
            $(this).addClass('activeButton');
        });
    });
</script>
<style>

    .resizable .resizers .resizer {
        width: 5px;
        height: 5px;
        border-radius: 50%; /*magic to turn square into circle*/
        /*background: white;*/
        border: 3px solid #4286f4;
        position: absolute;
    }

    .resizers .resizer.top-left {
        left: -5px;
        top: -5px;
        cursor: nwse-resize; /*resizer cursor*/
    }
</style>
@{
    ViewBag.Title = "Index";
    Layout = "~/Shared/Views/_Layout.cshtml";
}
<!DOCTYPE html>
<html ng-app="EmpApp">
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>
    <link href="@Url.Content("~/CSS/angular-ui.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/CSS/jquery.mCustomScrollbar.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Css/bootstrap-multiselect.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Css/bootstrap-toggle.min.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Css/chat.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Css/sweetalert2.min.css")" rel="stylesheet" type="text/css" />
    <script src="@Url.Content("~/scripts/angular-ui.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/scripts/ui-bootstrap.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/scripts/ui-bootstrap-tpls.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/app/app.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/app/controller.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/pageSelect.directive.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/smart-table.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/jquery.marquee.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/jquery.mCustomScrollbar.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/scripts/moment.min.js")"></script>
    <script src="@Url.Content("~/scripts/Bootstrap-multiselect.js")"></script>
    <script src="@Url.Content("~/scripts/bootstrap-toggle.min.js")"></script>
    <script src="@Url.Content("~/scripts/highcharts-ng.js")"></script>
    <script src="@Url.Content("~/scripts/highcharts.js")"></script>
    <script src="@Url.Content("~/scripts/highcharts-more.js")"></script>
    <script src="@Url.Content("~/scripts/highchart.solid-gauge.js")"></script>
    <script src="@Url.Content("~/Scripts/angular-sanitize.js")"></script>
    <script src="@Url.Content("~/scripts/jquery.playSound.js")"></script>
    <script src="@Url.Content("~/scripts/messaging/CometChat.js")"></script>
    <script src="@Url.Content("~/scripts/messaging/chatService.js")"></script>
    <script src="@Url.Content("~/scripts/Chatscripts.js")"></script>
    <script src="@Url.Content("~/scripts/sweetalert2.all.min.js")"></script>
    <script src="@Url.Content("~/Scripts/ckeditor/ckeditor.js")" type="text/javascript"></script>

</head>
<body class="" id="idbody">
    <div class="container">
        <div class="row">
            <div class="themeHeader">
                <div class="themeLogo">
                    @*<img src="images/MyCortexLogo.JPG">*@
                    <img src="images/MyCortexLogo.JPG" id="InstLogo">
                    <div class="patientHeaderProfile">
                        <p>Yogeswaran Veerapathiran <i class="fas fa-chevron-down"></i></p>
                        <div class="patientHeaderProfileDetails" style="display:none">
                            <img class="responsiveProfileImage" src="data:image/png;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxITEhUTEhMVFhUWGBUVFxcYFxcXFRcVFRcYGBgVFRcYHSggGBolGxUVIjEhJSkrLi4uFx8zODMsNygtLisBCgoKDg0OGhAQGi0dHR8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLTctLTcrKy0tK//AABEIAOMA3gMBIgACEQEDEQH/xAAcAAABBQEBAQAAAAAAAAAAAAAFAAIDBAYBBwj/xABAEAABAwEGAwUGBAUDAwUAAAABAAIRAwQFEiExQVFhcQYigZGhEzKxwdHwQlJi4QcUI4LxM3Kyg5KiFSQ0RGP/xAAaAQADAQEBAQAAAAAAAAAAAAABAgMEAAUG/8QAJREAAgICAgIDAQADAQAAAAAAAAECEQMhEjEEQSIyURNhcYEz/9oADAMBAAIRAxEAPwDyVlRSmpkqUwpWuTpitHairqw5V3LjhFdAXAV0FccdhErts8lD6eZWmuWyE7JJMpDbDt1WaIWqu5wEZIZYrLARKztgrJLbNfHRoLORwCjtlNvAJlCsGiSUMvXtBSYMz0yMHoTr4KsESaSKN6taAdFlre5sFNvO+/aOgTCGVqjnDL5pqQHJ1QFtDe8eqZ/LkoobC4ZmNRsN9Tkp61jbALXgvmIjJzdwZ31VOZFxM5UDmmCCITW1EbtFjx95p724GemW33kVDXsRa0OP4i6ZGTYMCT568ELR1MotcpGlOq0CPHfbooRIKJxepBSYQmUFLCcQbgC7hC6AurjhgauloTgk5dZwwhNhPXCuRwMr0lC1yJ2mihdYQVKEik4j3OUDyulyY4qtkzhKdiUcrhKFnUXLEZeAvR+ztmBAyXmFB0OB5r1PsrWGEEqWRlsUdmrZZwAhVvvJlKSXAR8eCbfXaNrGRTGI5gu0aIyIB3PTIcVhn+0quxGSeMExyY0ZNCgo27NTnxVBm8u0pf8A6cwIIJGp4kHUjYFBLRUe8lzjmeefiZzVpt3PiXNDeb3gHybp+yez2Tf1HkAB+6omkRab2weKQOrGu6BxPnsrdnsv5Q9p4Sp3XpTb9JjzUbrza7RrfX5rrb9AqK9lphc33mtcNMy0HzB+RUFssLXAupTiicBjafcdoc4yVN1RuppNJ4j9ioqdvoCZZUYeLXGPIyChUltBcovsnbLYkd52siO9x84HWUrXaHADC6JzmPOZ+81XqU/aZ0q2J3AnA/z0Pjkh9oc5pDa7SIOR0BkD3wNstlRf5J/6LZlx98unMgiZnhn0TP5HhpnkQQf2TWVnVBDWhjdNQBnnnsrdO7Kmoc0EaGTB5wfkuug1ZXp0SNQnKZtXMtcC14nKMiOXTkm1QqRdkpKiMLpXAuphRJEJQuonDCuQnJLjh9ZshBrVTRUuVSu1ZYmmYHcuKS0NzUIcrJmdoRTZSLk2UQj2nNbm7nvFHWJiCNY3I9c1mLrsYkPeJGzcxPNx2GqNPfUrZN7rBAL9AB+kDU8ApzLYtFmm41HAaxoNhH3qfRS2m9xR7rTL9P0g8GjcqjVrim32bZaNyT3j1jeVUDy7JoHM8Op+Q9VNK2O5V0PqW1zzicCTr3j8hoPFJtcuyY0uJ2aAGDq6M0qVmEjF3us4fBurvGAicPww0x4x8BknpIlv2VqV1VD3qkDkM488ldoUwzQYj/uHlDQszelntAJJJjk4/VChaH/mPmmoFpG0tFrduGDbvSP/AChC7yptcMUYHfmaZaeTtx1+Ko3deNYnBixDg6HDhoeqtUq7XAy3DGTo90eGw+C6jrKtgrScDtTpOQJ4HgeYRL2xww6XUxkQc3M5jiPos/amYXZdQjF2WmakbOxDwIBB8DK6hRMqmk8NMEZYTqHNOhCP0Xh4GZB4nIHkEDtFmluHQDvs3gE4Xs6B3xCtWGuQ2H9cQ1AGjv1N0ncRuknErCQ610iDETv/AIlNs9XFI3HqDuBwKcLQ4OIOYHDducOCVuo4SKjcwNf1MO/ln4Jo6FkrOOC4pag8okKMFWInJSSclCJwguFdSCBxCSo6hXajlVqVVmRpZVtSouVqs6VWeFREWNBVy77OHPaDnJgDieHTiVUptkopQhgkYS8fl0HQ7lFsMVbDWFrZD9vLTQDYJn/qIcABk0GGgaE8hvvJ0GaD1y58T5HITzUoNNnvHE7TCMhHDpySUU5fgml9R5eYwA6kwFbp0nOzBwt/MRHgxnzKqfzj3mGsjhuR0nIJ1oNRglxE8zJ+KIt0F7OGM5nXE4yT4D5KO1X0QO64jpT+qzFa2POrj4ZD0UQqO4lHiLyC1W8HumHh3IjC7wVMta8gxBOXiq7pOac1xJHGfsogL92s9m/Efvb5qR9QYXRq50/923kq1recRIGigY9wz+5QCMtBkkDYwOiv3c8NzOzT6j9kOAz6qw0nTpPQbIgoPiqC1v8A1f8Ayz+Shu6syq0Mx4ajc2E5TnpOkFUKNo0J0APlB+oV+xXKajZbk4ZjnxH36JfWx0vwbUxUniR3ZIInQHWOUj1KKWMYmYHGYyE68h6oVbqbmDBVBjPXUEa9eKnu2uQ0HcHCeGYEH0Q9BJWsLZafw6c2yTHyXHiDCIWhkkZidjxy+/EKpVpHLyPGQY+irCVk5KiKEikuphBq4V2EoXHAuu9VHOWhtFzu4IXabucNlmjJGuUGDnFQOKIGwu4KrWs5ComRkmRSDyRuw0YYNiRrHHl0QijQcSMInw81ozVFOmOMA556yfhCEhoUCLRTcHYR72vHCOfPNNZTaOM7nieShdWcSQJlxk8TKu07vfEnLlvH0RAXLNUaBlE8PrCG3hUknP781HXrBogSOYcYJ6JlmouqHeOea5utnVbpFXAit23UXQTOa01w9lw4glb2y3AzC0ADJZp+R6Rpx+N7keXv7PuECOKgsVzk1DOjQPEr2ancEbDjpomM7M08UgZ/RIs0h3hieZ2O4pMEGCZnwUt69nC0ThPDLXT6r1mldLAIhcqXaDM5o/0kd/KJ4TVuojQFVqtgcBBEL2u2XBT2AWava4wAYGn3KdZf0nLB+HmtanDVouy9dzRhc1zhtHyKq3vYsGf2VDZ31ABgqYTqBp8lV/JEfrI0l7WJtQRkJzAdlB2grJ0qb6bvZuBAJgj9Jn9vJHaN51dMc7GS3LmBwXKlpe4YajKbhxLmtOWhBGSRco6KPjLfsbj7gz0OvPfw91ctbg4NcNxn1GR+A802tQGEhrmayBjb1I1XSO4eR+PDyVMclZKcWkQJJJLQQOJFdhIhA49PrXO3gh1fs+Dstm6mmizrzmekYOv2dEaLOXvccbL12pZAg953aCDlmim0BpM8asl3VBUy7o32y+5UN4Eue4Z4R58NVs+0EUSGNjGdd4B+aytubDXaEgST+pxgffLorxbeyM0lpA2lUwaa/DkFYNrJYS4mDl18eHIISM9dFK2XkDQaDoqURsa9+J3wW67NXPLAeKxv8uRkRmCF6r2YzptA4BZvJlSVGrxIptthq6LHAAWls7AFSslOAEUoNWKJskTMMLkyV3Cm7qhMc4KCqVYIyVd4ROKz0PttAEabFEsCp212S5hR5X2rp7HYlZ2kS0STlK0/bYwSeay2Pu+Z8NFswu4mLPqRcdULYdrlh+/RVbW6M5kbH68FZs7cbC3hp5afFNs9IHEw5T6Tp6j1KoSKtOoSYnbLzy++iJWKsS0tOsAj9Qn4odTpGcJ1B9OXp4K9RBbhIOQIb4OIHxM+CHsL6J0k586cExaEQFCRSCa5cce8NapWtTmsUgWHib7I8KqXg9lOm6o8w1oJPhsi1KgSu3hc1Oqwh47sGekQT1glNHE2TnlSR4hbLM+pUY53vVgaz+LWuOGmzlMD/uCyF6VMiJyl0+B/Zeo39VbZqjDSaHPDRVqF8htPamHRqG5nCOAXlYpGoXTnGInrJJPxVWuJNOwYKc65BNaTIjir9oo4XYdxr5DL1VexUu8CdAZPgmvQjWwpbjFR28Fnqxs+oXpPY2lDI4aLzltPEcR/EWn79V6ZdVuo0KYdUe0ZDKROnBY/I+VJGzx/jbZsbNSV+mEBu/tDQeO7UafFFqVsadCFDg0aOaYQZom4M1WFpHFOFpTUAnKjcFA+181Xr3mxoJLh5wmQG6LFRqF22lkgF7dvKFOQ04zy49VlLV/Eiq53cYI4HMlP/Jsm8yQQ7U3f7RhC86rA0zhdlx6bLdWftA60xjp4DIAzkFZjtdZoIKpjuL4k8tSXIddbO5iy173UfVPqDMOOk4HHiCNT4LvZ+qM2HR3d8SNUnN7rmnmPEA5+XwVrM9FU1DMO1BiemR+qmdWGDDGZcHdIMn0BVO9nYahjfPz/AHVenXMyDnp5iPvoloZP0aCqwyfFNcyOqlZXkSACfMdRGihqOO5++atFkZIjCRXVxOKfQLVcs9nTrNZkRo0lKOP2y08v4No0Ur0MUah/Q/8A4lWQhvaKmatmr02OAc+nUYDsHOaQJVTM2fPnbu/3Wqq51ORTIEbFzA1rWl/kCB+rigV292ZOThHUH3j0geqfedN/tHNe0iCAQfw4conkQV009zkAAAJzgaBQls1RRWrjEXPP4jkOAHx28lBZqcDTryGeRU7nySdGjU8OnP6q66zhjGiIcczx72gPOI9EHo5KyGgCXc+PP7HwU57O45e95B1k59NSp7go46rm8BPn/gIre121sIDIjLWduSzzyNTo1Qx3C2Z03fgE+2kbEtMeBmPJMo37aaZinVJA5mMkdp9nBVpSXn24cC0vMTGrQdG6jlIVi6+y8vdUtbmu7uFoaWyToCSIGUKnKNbdk/5yvSJ7h7YVSQ2qdd1uqF4hwWEsnZthJwnQAg5ZncGPQrc9nrvBpwdQsk2m9GuMWlszvaS/XUx3dcvLdec3pba1QkvqO6Alekdo7mFSrByA1Qix3TSZUxEAgEwCCdtXfqVMc1HsnkxuXRjbuszCz2jmPcwOw4okB0TGbhnBGnFH7tfRb7gpu3wlpY8cDhdr5q7U7K2bHiGPCSSG92ANYB1Ul+WVtWCGBuEQI1gaCVWUosnHHKPZboYHmQByjl9+iBdrrKcM8CJ+S19z3aGMA1PFDO1tEYCOIjw3+CjGXyKSiuLMPd5w97gXnwAH0KvvnEY3Pq4H6BQPaGmm384J8CHA+p9E+xOkniQ1w6iR81qb2ZEtUQ36z3HjQh3xCGMObY4nkQdfkForypj2EZSII84Kz9Oz4hlkdc9zpCZCvQYo1CDBEcCBoeDvkU8lU7OXQ0PGGCAeURB+Sul06eY+SpEnNexgSlIFcKoIfUdOnClCZK6CmEbOvJjITynVee9sb+r2Z+Kmx0HJ1NwyOWrS3MdQfA7ehys12tuWnUpy7EdAGiCXOMQ1uIGCSld+jotXs8Bvu9G1ajntYaZdAw4y6Igb57BCnBzjv8SVt+2nZunZRAaS4DvvLie84mAAIyAGWWcrGNtDW8PI/ErO00zVaaLFKk1gDn+63MDieJUVa0lxLnZcuRPxKiq2skjIcR8uiH1K05+Xh/ldTDZp+w9TFaKhP3qvVKd2hzM15D2CdFV3gvb7rf3QsWdfM24H8EZ20XFUbnTIPIqGncVZ3vmBwA+a3zGApOotCSiqkzM2e6G0280cuOgA0qta3Zq7dWhCEezpdAu/LN3wVTqXU17ZAzRe+gqtiqbJ5ISLYDqdnuBhOFwxhGZJcJ6DM/ALXCkIUVRgBnh80EF2wWbGGhYjtXnPIOPit3b6sArz7tE/3jy+OL6Jl2K1oyb6YIoHemADza6T6fVRWWtge4naAP7c/jCaHkl0foA8Ad/FVHOOfLLxBWlbMrdBS11MQwaDA4HrlPriQqyvwy10EAjXI5mJHiFcpOEwZyGR5DU9ZMqzbLIyq2WmDGe+mcxlB6SqdaJVY9j5b3QcW4jI8+RH3uuNrEz3MOZ3+W2ar2d2FwBIMkNP39Vcc0afcpo9iy6IpXCkF1VJH1IuppK46pCclZJKF13465nSk0ED9b5z8GtI/uKfXtkILXvAtqPI0eG8dWgjbwQbSHUGzBfxJrgvl3uhxJdGUMaQBruWnLp1Xk9a0ZkwJ+C9I7cWdzmMeZID6hdrAEOOQH+0Lyp54+KhduzRXFUS1axPoSnPYQ0HlHn9lVQSiVmdip4dxPiNlwFsI9hXf1iOIHx/de1Xa8gBeF9mKns7XTzEOOHz09V7pZCIBWLydTTNnjP40GqbyuVqvNVWV06SSocjUiqQS4x1KK3YIQG/rS+iwvYxz+Ibr4Tqhl0dr5YTUDqZ0wvyP7po/ordmrvlmSENp4SDscvHVZ6/e15gCkMfiPuFa7O3hXrwalP2YHOZ6KrVron0zX0KwITa9VVmmFHXqKJWyneDtVh+05hrhxj0lbS1lYXtmYgb5+unqnh2Sk9WZBzoZGgzJ4zlEnxTNGnkR4yDKjtTcIDN4z88/WE22Owho394/RbVExSlZbstMuaYO0D+4j901jHS0DLWTw/zknXfl6u/b0UlStAPGBHXimFIbIRjeDnDgOvHpor5qSq1lp4W56nVTBUiiUnYglKRSTgPp971XrVE11RVq1RFk0ijbnk7qgKM6q/UzUFR0LHlez0MKVA+8bmbVpOpuOR3yBDsoOa+f72s2CtUpgyGvcAeIGh8l7vfLHvbLKrqbsxIAIPUELxG96Dm1XtcS5wc4ExGco42dm6BhYNVLSc4d/aY6wBP3zTMIgycxtx4ydtEStd2up2RtR4Ic98D/aIPhr8FQzpPsF1K3eDm5EGfEHL4L3Hs3eQrUGVAdQCRwO48wV4Mtx/D++vZEUnmGPPdP69x4/Ec1HyMfKOvRXBOpHrjHqM3pBgev1VOz2sEKreFGq7/AEnQeMT6LAtPZve1oNtqPqD3fHRCrdcXtWkEfshdSjbwf9dhA2wub8Dkn4LY3MEE/pqkE+DgFXjfR0cZLY+yTaXeA80VAewaffgs9Ubb3nE5waPyuqEmf7MlF/KW0/8A2cPIAn/kU/FrsEsYddexDsJ8OatGsXCfVZuyXXWY4ufUc8fqj5BFalqACk3vQEmkSVHxqfNeedpbaHPc4nIac1qbwt3dOa86vWoajnRoAQPqtGKOyWWWqBn873sUd70A5KZhDhDjruUMKsWerC10Ykwoxr2jUOyjLgP2hT0mCc9Y+OqrU25iNtTCuU+PgPn8lyQGx8rspqSohBxTSVwJLrOPo19RQuKSUIsCIiFDVpyrLwmyss0bcO0VXWSQsF2w7EOruNWk4NqRofddGkxvzXpeMJppgpLo0OFqmeO3HddJtRlO20SysCCxzvceB+V3unOOasfxIawWWkzL2k48AGYZu48GzAXpd83d7Wk5rSGug4XOaHwTuGmM0Euzsoxlnq03/wBWpVBbUe7V42A4ATkEFNXYksTqkfPpVyxuxQ0mIMjb19UT7R9lq9mqubge5gJLXYZlo3MdRPVDrFdz355gDeDqtNpox8Wmeg3HebiAHHvDKdnc+q2t2VwQFhez9lmiA4y4Tn4rS3LaIdgdkdua83Its9GH1TDtpJ4IFbbRVB7mnAjhzC0raQITzYqbhJCSN2U5V0zF0LwrOdDoaOQOefP6I1ZSSirLspg5tHH75p7qbeACeTbF5N9spPdks7eNWDE5I/bqjGglYS8bbicQ3f4IwjexJS/CG21jUOFum6qVbmJGWqLXbY52Wio2MAJ3OugxxprZ43ediNN0ERKjs9mcYML02+rjbWq2dmGcdamDkT3Z7+Q/SCibrgo1KVRrWhoqh5DgAIxH2jCOmNhHTxO7DeSNnnZ0oTo82o0Q0QpiUylTdEO95pLT1aYTgnJHQUikEiicdlNXVwoHH0c1qWFSQlGSdoVMrVUPr1IRKsEPrRKy5Dd44yi8lXGvhQ0HNT6h4LOzcmddVXGvURXMSQfTGW1ocMwCsJ2lswzgBbesVl7+pSCmi9kpxtAXs7ScKZJGRcQ08YifUoraLNiEjIjSNVUxFlehS/D/AC7Y0g1HE1HeMO9Eaa3JT8hcZi4HcKKdkv0t7lXI8diBw4dEQo360SMQ1/f4IPetgxAmFk7bZHNMsJaeuXqhCmdJNdHplW+2RJIQK3dpRJzAG2cfY1XmtptdoGRcSOOa5Zw53vElXWJe2Q5vpI016X6+scLPd47fum2CzGc/E7qGwWfktHddjzz2STlSpFccP0I3XZA1sxqiRZITWMSqOBOGYEOc92fcpMEveYBiBvGpCjFOTpFpyUVbKzaOKriy7jSGnI4XVZY1xEzp7VwyghmRBKu0/KYy4SMhoJj29MT/APmdw4CCAZxtIGZczX3mtmmAcjFH2VPIw413jJwUzi6DmC7vAmSW+0xYHQZB/wDkVSNj/QEw4By9vFFQikjwss+cmzzC9mAWitGhqYh/cA75qJ1DHmNfinW2qH1arhoXuI/2yQ3YfhA2UlnQYV0UHMLTBEFcRitSa8Q7zGqrPus/gcDyOR+iFBTKASKmq2Oo3Vp66jzCrldQT6VCSeWrkJmKirWKFWydkVtCH1QsmU3+OZ6peDmOzRWx2zEEMvWySnXWwjJZ2jZXsO7JhCkpjJPFNIPZTqBAL9IaxznaAE+Sl7QdqaNGWM/qVOA90dT8gvP77varVBL3a6AZNHQK8MMntmXL5EY6W2aG9j/7ehbBqw2ZzsvwPYaTpI2GE6o5QcHAEbqDs5QFWw0qZg+0ohonTFk6mDyxtw7z7SIKgsI9iRTM4HDFTJmcI1YZzxNJg+HQHzMWlJEfEybcWEXMlCLwu2cwPBHGqO0MXnJ0eiYe13PnouULnHBaqrRzT2MVP6MXggXY7vI2RuzUA0ZKam3JOeyAlbsNEdeqGgngorHSIbje2XPioW5/6THxSp6S0VK0d5sjCySE19mNRwa52Fol73Z9ymzN7zA7sQQCQRIg6q7hJ2FMktcB7opFzIpHu5AUqEuxsylwxBel4uHiuTPK8vNyfFDaQIMZPcM/w95xqENJGQ/q2gud+V7aIiCqd/Wj2NnqPafda4MJJkuAdRpHMSSXOr1DJxDKcQzV+k0mMHd93CNPZ+0bgojdrQygH1DqxxeDkVn+2bgbOcIhs0oHAHKhTPAtoMc6HaGqC1xGS2GIwlBkAK5SChap2JRycaLtKpko2pln0TIFl9lUpPpsd7zGnnGfmoGuT2uXUCz3tNSSXSKIqWpDnpJLFl7N/jg+1pWQJJKMujcugnTWX/iDbqlOmxrHlod70b5cdV1JHF9iGb6M833UNvOXgkkvQPIR6L2Qcf5CidxSJHUAkeoBV/tVSAs9UjVtQObr3S40yY4D+o/LTvJJLsv0/wCBx/8AoivYHkgTwV1wySSXhHvIoVEmJJICos0iu1zl4JJJofZHS+rLFmpg1Swjul9kYeOF0uc0HVoJY0mNYUVmOOm0u1qUrQ9xHdJe60+zLxhiHFjQ2RGSSS91Hz7G2qqYcd/YWyrsIf8AzDKMt/L/AE+7AyhZj+IbiKlNg93HXMc2kMaBwAa0AAZBJJFnLsyzQpAkkuCSwmUd+vzSSXIVjwU9pSSTAP/Z">
                            <p>
                                <span>MRN</span>
                                <span>2</span>
                                <i class="far fa-id-badge" style="color:#4285f4"></i>
                            </p>
                            <p>
                                <span>National Id</span>
                                <span>4561-6212-6932</span>
                                <i class="far fa-address-card" style="color:#ea4335"></i>
                            </p>
                            <p>
                                <span>Phone</span>
                                <span>+91-9742225501</span>
                                <i class="fas fa-mobile-alt" style="color:#fbbc05"></i>
                            </p>
                            <p>
                                <span>DOB</span>
                                <span>15-03-1993</span>
                                <i class="far fa-calendar-alt" style="color:#34a853"></i>
                            </p>
                        </div>
                    </div>
                    <div class="themeMenu">
                        @{ var counter = 1; }
                        @foreach (var menu in Model)
                        {
                            if (counter == 1 && (@menu.Menu_Level == 1) && (@menu.HasChild == 0))
                            {
                                <div class="menuList">
                                    <button class="activeButton" onclick="location.href = '@menu.Menu_URL'"
                                            type="button" aria-expanded="false">
                                        @menu.Menu_Name
                                    </button>
                                </div>
                            }
                            else if ((@menu.Menu_Level == 1) && (@menu.HasChild == 0))
                            {
                                <div class="menuList">
                                    <button onclick="location.href = '@menu.Menu_URL'"
                                            type="button" aria-expanded="false">
                                        @menu.Menu_Name
                                    </button>
                                </div>
                            }
                            else
                            {
                                if ((@menu.Menu_Level == 1) && (@menu.HasChild == 1))
                                {
                                    <div class="dropdown app_menu">
                                        <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown"
                                                aria-expanded="false">
                                            @menu.Menu_Name
                                            <span class="caret"></span>
                                        </button>
                                        <ul class="dropdown-menu customDropdown">
                                            @foreach (var submenu in Model)
                                            {
                                                if (@submenu.Parent_Id == @menu.Menu_Id)
                                                {
                                                    <li class="customDropdownlast-child" onclick="location.href='@submenu.Menu_URL'" style="padding: 4px 16px !important;">@submenu.Menu_Name</li>
                                                }
                                            }
                                        </ul>
                                    </div>
                                }
                            }
                            counter++;
                        }
                    </div>
                </div>
                <div class="themeLogo" id="divPatientType" style="display: none; margin-left: 20px;">
                    <img src="images/Premium.svg" id="imgPatientType">
                </div>
                <div class="themeRight">
                    <div class="patientShortInfo">
                        <p>
                            <span>Age:</span>
                            </span>20</span>
                        </p>
                        <p>
                            <span>Sex:</span>
                            </span>Male</span>
                        </p>
                        <p>
                            <span>Chronic Condition</span>
                        </p>
                        <a href="#" title="Monitoring Protocol"><i class="fas fa-cog"></i></a>
                        <a href="#" title="Groups"><i class="fas fa-user-friends"></i></a>
                        <a href="#" title="Unknown Allergies"><i class="fas fa-virus"></i></a>
                    </div>
                    <div id="mydiv" class="notificationOnline">
                        <i class="fas fa-bell" id="UnreadCountIcon" data-placement="left"
                           data-toggle="tooltip" onclick="location.href = 'Home/Index#/NotificationView'"></i>
                        <i class="fas fa-video"></i>
                        <span>10+</span>
                    </div>
                    <span id="usernamespan">Admin</span>
                    <div class="dropdown profile_menu">
                        <button class="btn btn-primary dropdown-toggle noBind" type="button" data-toggle="dropdown"
                                aria-expanded="false">
                            <img src="images/male.png" id="profileIcon" class="themeProfile"
                                 data-toggle="tooltip" data-placement="left">
                        </button>
                        <ul class="dropdown-menu customDropdown logoutDrop">
                            <li class="customDropdownlast-child" onclick="location.href = 'Home/Index#/ChangePassword/2'"
                                style="padding: 5px 20px !important;">Change Password</li>
                            <li class="customDropdownlast-child" onclick="location.href='@Url.Action("LoginOut", "Home" )'"
                                style="padding: 5px 20px !important;">
                                Log Out

                            </li>
                            <li class="customDropdownlast-child" onclick="location.href='@Url.Action("LoginOutAllDevice", "Home" )'"
                                style="padding: 5px 20px !important;">
                                Log Out From All Device

                            </li>
                            <li class="customDropdownlast-child" style="padding: 5px 20px !important;" data-toggle="modal" data-target="#colorSetting">Color Settings</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-md-12 bodyClick" id="DataToggle" ng-controller="ParentController">
                <div class="DataContainer" ng-view>
                </div>
            </div>
        </div>
    </div>

    <a onclick="openChatWindow();" class="float ng-scope" id="btnopenchat" target="_blank" style="display:none">
        <i class="fa fa-comments my-float"></i>
    </a>
    <div class="chatBox chatBoxBig resizable" id="chatBox" style="display:none">
        <div class='resizers'>
            <div class='resizer top-left'></div>
            <div class='resizer top-right'></div>
            <div class='resizer bottom-left'></div>
            <div class='resizer bottom-right'></div>
        </div>
        <input id="loggedInUID" type="hidden" />
        <input id="chatUserUID" type="hidden" value="" />
        <input id="callSessionID" type="hidden" />
        <form id="message-form">
            <div class="chatHeader">
                <span id="chatBoxOpener"><i class="fas fa-arrow-down"></i></span>
                <img class="chatProfile" src="../../Images/male.png" alt="Profile">
                <h1 id="h1user">
                    <br />
                    <span></span>
                </h1>
                <a class="callIcon" id="showchatIcon" onclick="showchatOnCall()">
                    <i class="far fa-comment-alt"></i>
                </a>
                @*<a href="#" class="callIcon" id="deleteGroup" title="Delete Group" style="display:none"><i class="fas fa-trash-alt"></i></a>*@
                <a href="#" class="callIcon" id="addGroup" title="Create Group"><i class="fas fa-users"></i></a>
                <a href="#" class="callIcon" id="addressBook" title="Show or hide contact book">
                    <i class="fas fa-address-book"></i>
                </a>
                @*<a href="#" class="callIcon" id="notifications">
                        <i class="fas fa-bell"></i>
                    </a>*@
                <a class="callIcon" onclick="audioCallUser()">
                    <i class="fas fa-phone-alt"></i>
                </a>
                <a class="videoIcon" onclick="videoCallUser()">
                    <i class="fas fa-video"></i>
                </a>
            </div>
            <div class="chatBody contactList groupsList" id="groupsList" style="display: none;">
                <div class="lds-ripple" id="groupcreateLoader" style="display: none;"><div></div><div></div></div>
                <div class="searchHolder">
                    <input type="text" class="contactSearch" style="width: 75%;" id="groupname" placeholder="Group Name">
                    <button type="button" class="btn  btn-save ml-5" id="btnCreateGroup">
                        Create
                    </button>
                </div>
                <ul id="group-user" class="group-user"></ul>
            </div>
            <div class="chatBody callBox" id="call-page" style="display:none">
                <!--<p>Today</p>-->
                <h2 id="callinitiatorname"><span></span></h2>
                <a id="call-accept" class="call" onclick="callAccept()">
                    @*<img src="~/Images/callaccept.png" style="height:40px;width:40px"/>*@
                    <i class="fa fa-phone-alt" aria-hidden="true"></i>
                </a>
                <a id="call-reject" class="call endCall" onclick="callReject()">
                    <img src="~/Images/callreject.jpg" style="height:40px;width:40px" />
                    @*<i class="fa fa-phone-alt" aria-hidden="true"></i>*@
                </a>
            </div>
            <div class="chatBody contactList chatBodyHalf" id="add-book">
                <div class="searchHolder">
                    <input type="text" class="contactSearch" id="contactSearch" placeholder="Search Contact" onKeyup="searchContact_onKeyPress()">
                </div>
                @*<ul id="group-user">
                    </ul>*@
                <div class="lds-ripple" id="chatLoader_add" style="display: none;"><div></div><div></div></div>
                <ul id="address-user"></ul>
            </div>
            @*onscroll='alert("Scroll Called");'*@
            @*           <div class="chatBody" id="notificationList" style="display:none">
                    <ul class="notificationList">
                        <li>
                            <h1>Prasanth</h1>
                            <p>Yesterday,06.30 pm <i class="fas fa-phone-alt"></i></p>
                        </li>
                        <li>
                            <h1>Prasanth</h1>
                            <p>Yesterday,06.30 pm <i class="fas fa-video"></i></p>
                        </li>
                    </ul>
                </div>*@
            <div class="chatBody chatBodyHalf resizable" id="msg-page" style="display:block">
                <div class="lds-ripple" id="chatLoader" style="display: none;"><div></div><div></div></div>
                <ul id="group-message-holder"></ul>
            </div>
            <div class="chatFooter" id="msg-footer">
                <input id='filechat' type='file' style="display:none" onchange="handleFiles(this.files)" />
                <a class="chatAttachment" onclick="openChatAttachmentDialog()" id="btnfilechat"><i class="fas fa-paperclip"></i></a>
                <input type="text" id="input-text" placeholder="Type your message..."
                       onKeyPress="sendChatonKeyPress(event)">
                <a onclick="sendChatMessage()"><i class="fas fa-chevron-circle-right"></i></a>
            </div>
        </form>
    </div>

    <div id="colorSetting" class="modal fade" role="dialog">
        <div class="modal-dialog modal-lg">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" onclick="removeStyles();">&times;</button>
                    <h4 class="modal-title">Color Setting</h4>
                </div>
                <div class="modal-body ">
                    <div class="row">
                        <div class="col-sm-3 colorSettings">

                            <div class="colorGroup">
                                <h1>Title Color</h1>
                                <input type="color" id="title" name="title" />

                            </div>
                            <div class="colorGroup">
                                <h1>Sub-Title Color</h1>
                                <input type="color" id="subTitle" name="subTitle" />

                            </div>
                            <div class="colorGroup">
                                <h1>Header Background Color</h1>
                                <input type="color" id="headerBg" name="headerBg" />

                            </div>
                            <div class="colorGroup">
                                <h1>Header Text Color</h1>
                                <input type="color" id="headerText" name="headerText" />

                            </div>
                            <div class="colorGroup">
                                <h1>Table Header Background Color</h1>
                                <input type="color" id="TableHeaderBg" name="TableHeaderBg" />

                            </div>
                            <div class="colorGroup">
                                <h1>Table Header Text Color</h1>
                                <input type="color" id="TableHeaderText" name="TableHeaderText" />

                            </div>
                            <div class="colorGroup">
                                <h1>Table Alternate Row Background Color</h1>
                                <input type="color" id="TableAlternateRowBg" name="TableAlternateRowBg" />

                            </div>
                            <div class="colorGroup">
                                <h1>Table Alternate Row Text Color</h1>
                                <input type="color" id="TableAlternateRowText" name="TableAlternateRowText" />

                            </div>
                            <div class="colorGroup">
                                <h1>Table Alternate Row Hover Background Color</h1>
                                <input type="color" id="TableRowHoverBg" name="TableRowHoverBg" />

                            </div>
                            <div class="colorGroup">
                                <h1>Table Alternate Row Hover Text Color</h1>
                                <input type="color" id="TableRowHoverText" name="TableRowHoverText" />

                            </div>
                            <div class="colorGroup">
                                <h1>Link Text</h1>
                                <input type="color" id="linkText" name="linkText" />

                            </div>
                            <div class="colorGroup">
                                <h1>Positive Action Button Background Color</h1>
                                <input type="color" id="positiveBtnBg" name="positiveBtnBg" />

                            </div>
                            <div class="colorGroup">
                                <h1>Positive Action Button Border Color</h1>
                                <input type="color" id="positiveBtnBorder" name="positiveBtnBorder" />

                            </div>
                            <div class="colorGroup">
                                <h1>Positive Action Button Text Color</h1>
                                <input type="color" id="positiveBtnText" name="positiveBtnText" />

                            </div>
                            <div class="colorGroup">
                                <h1>PostPositiveive Action Button Hover Background Color</h1>
                                <input type="color" id="positiveHoverBtnBg" name="positiveHoverBtnBg" />

                            </div>
                            <div class="colorGroup">
                                <h1>Positive Action Button Hover Border Color</h1>
                                <input type="color" id="positiveHoverBtnBorder" name="positiveHoverBtnBorder" />

                            </div>
                            <div class="colorGroup">
                                <h1>Positive Action Button Hover Text Color</h1>
                                <input type="color" id="positiveHoverBtnText" name="positiveHoverBtnText" />

                            </div>
                            <div class="colorGroup">
                                <h1>Negative Action Button Background Color</h1>
                                <input type="color" id="negativeBtnBg" name="negativeBtnBg" />

                            </div>
                            <div class="colorGroup">
                                <h1>Negative Action Button Border Color</h1>
                                <input type="color" id="negativeBtnBorder" name="negativeBtnBorder" />

                            </div>
                            <div class="colorGroup">
                                <h1>Negative Action Button Text Color</h1>
                                <input type="color" id="negativeBtnText" name="negativeBtnText" />

                            </div>
                            <div class="colorGroup">
                                <h1>Negative Action Button Hover Background Color</h1>
                                <input type="color" id="negativeHoverBtnBg" name="negativeHoverBtnBg" />

                            </div>
                            <div class="colorGroup">
                                <h1>Negative Action Button Hover Border Color</h1>
                                <input type="color" id="negativeHoverBtnBorder" name="negativeHoverBtnBorder" />

                            </div>
                            <div class="colorGroup">
                                <h1>Negative Action Button Hover Text Color</h1>
                                <input type="color" id="negativeHoverBtnText" name="negativeHoverBtnText" />

                            </div>
                        </div>
                        <div class="col-sm-9">
                            <div class="frameController">

                                <iframe id="frameController"></iframe>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="theme-btn-1 mr-10" onclick="saveSettings();">Save Settings</button>
                    <button type="button" class="theme-btn-1 mr-10" onclick="restoreSettings();">Restore Default</button>
                    <button type="button" class="theme-btn-2" onclick="removeStyles();">Close</button>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
<script type="text/javascript">
    let saved = false;
    // let baseUrl = $("base").first().attr("href");
    let removeStyles = () => {

        if (!saved) {
            if (confirm("Settings not yet saved do you want to close")) {
                $('#colorSetting').modal('hide');
                //alert('after close again make api to get new values');
                applyStyle();
                saved = false;
            }
        }
        else {
            $('#colorSetting').modal('hide');
            applyStyle();
            saved = false;

        }


    };
    let getAPIObj = {
        primary: "#333",
        secondary: "#555",
        headerBg: "#4d719d",
        headerText: "#fff",
        TableHeaderBg: "linear-gradient(#232f3e, #333)",
        TableHeaderText: "#fff",
        TableAlternateRowBg: "#7a8ddb1a",
        TableAlternateRowText: "#333",
        TableRowHoverBg: "#efefef",
        TableRowHoverText: "#333",
        linkText: "337ab7",
        positiveBtnBg: "#232f3e",
        positiveBtnBorder: "transparent",
        positiveBtnText: "#fff",
        positiveHoverBtnBg: "transparent",
        positiveHoverBtnBorder: "#232f3e",
        positiveHoverBtnText: "#232f3e",
        negativeBtnBg: "#d3d5d8",
        negativeBtnBorder: "transparent",
        negativeBtnText: "#000",
        negativeHoverBtnBg: "#fff",
        negativeHoverBtnBorder: "#d3d5d8",
        negativeHoverBtnText: "#000",
        title: "#032b5c",
        subTitle: "#032b5c"
    };

    let defaultValueObj = {
        primary: "#333",
        secondary: "#555",
        headerBg: "#232f3e",
        headerText: "#fff",
        TableHeaderBg: "linear-gradient(#232f3e, #333)",
        TableHeaderText: "#fff",
        TableAlternateRowBg: "#7a8ddb1a",
        TableAlternateRowText: "#333",
        TableRowHoverBg: "#efefef",
        TableRowHoverText: "#333",
        linkText: "337ab7",
        positiveBtnBg: "#232f3e",
        positiveBtnBorder: "transparent",
        positiveBtnText: "#fff",
        positiveHoverBtnBg: "transparent",
        positiveHoverBtnBorder: "#232f3e",
        positiveHoverBtnText: "#232f3e",
        negativeBtnBg: "#d3d5d8",
        negativeBtnBorder: "transparent",
        negativeBtnText: "#000",
        negativeHoverBtnBg: "#fff",
        negativeHoverBtnBorder: "#d3d5d8",
        negativeHoverBtnText: "#000",
        title: "#032b5c",
        subTitle: "#032b5c"
    };

    let applyStyle = () => {
        //alert('use this method when user logged in first time and use response object instead of getAPIObj')
        // alert(@HttpContext.Current.Session["UserId"].ToString());
        $.get(baseUrl + "api/ColorPreference/List?UserId=" + @HttpContext.Current.Session["UserId"].ToString(), function (data) {
            if (data["Status"]) {
                getAPIObj["primary"] = data["ColorPreferences"]["Primary"];
                getAPIObj["secondary"] = data["ColorPreferences"]["Secondary"];
                getAPIObj["headerBg"] = data["ColorPreferences"]["HeaderBg"];
                getAPIObj["headerText"] = data["ColorPreferences"]["HeaderText"];
                getAPIObj["TableHeaderBg"] = data["ColorPreferences"]["TableHeaderBg"];
                getAPIObj["TableHeaderText"] = data["ColorPreferences"]["TableHeaderText"];
                getAPIObj["TableAlternateRowBg"] = data["ColorPreferences"]["TableAlternateRowBg"];
                getAPIObj["TableAlternateRowText"] = data["ColorPreferences"]["TableAlternateRowText"];
                getAPIObj["TableRowHoverBg"] = data["ColorPreferences"]["TableRowHoverBg"];
                getAPIObj["TableRowHoverText"] = data["ColorPreferences"]["TableRowHoverText"];
                getAPIObj["linkText"] = data["ColorPreferences"]["LinkText"];
                getAPIObj["positiveBtnBg"] = data["ColorPreferences"]["PositiveBtnBg"];
                getAPIObj["positiveBtnBorder"] = data["ColorPreferences"]["PositiveBtnBorder"];
                getAPIObj["positiveBtnText"] = data["ColorPreferences"]["PositiveBtnText"];
                getAPIObj["positiveHoverBtnBg"] = data["ColorPreferences"]["PositiveHoverBtnBg"];
                getAPIObj["positiveHoverBtnBorder"] = data["ColorPreferences"]["PositiveHoverBtnBorder"];
                getAPIObj["positiveHoverBtnText"] = data["ColorPreferences"]["PositiveHoverBtnText"];
                getAPIObj["negativeBtnBg"] = data["ColorPreferences"]["NegativeBtnBg"];
                getAPIObj["negativeBtnBorder"] = data["ColorPreferences"]["NegativeBtnBorder"];
                getAPIObj["negativeBtnText"] = data["ColorPreferences"]["NegativeBtnText"];
                getAPIObj["negativeHoverBtnBg"] = data["ColorPreferences"]["NegativeHoverBtnBg"];
                getAPIObj["negativeHoverBtnBorder"] = data["ColorPreferences"]["NegativeHoverBtnBorder"];
                getAPIObj["negativeHoverBtnText"] = data["ColorPreferences"]["NegativeHoverBtnText"];
                getAPIObj["title"] = data["ColorPreferences"]["Title"];
                getAPIObj["subTitle"] = data["ColorPreferences"]["SubTitle"];
            } else {
                getAPIObj["primary"] = defaultValueObj["primary"];
                getAPIObj["secondary"] = defaultValueObj["secondary"];
                getAPIObj["headerBg"] = defaultValueObj["HeaderBg"];
                getAPIObj["headerText"] = defaultValueObj["HeaderText"];
                getAPIObj["TableHeaderBg"] = defaultValueObj["TableHeaderBg"];
                getAPIObj["TableHeaderText"] = defaultValueObj["TableHeaderText"];
                getAPIObj["TableAlternateRowBg"] = defaultValueObj["TableAlternateRowBg"];
                getAPIObj["TableAlternateRowText"] = defaultValueObj["TableAlternateRowText"];
                getAPIObj["TableRowHoverBg"] = defaultValueObj["TableRowHoverBg"];
                getAPIObj["TableRowHoverText"] = defaultValueObj["TableRowHoverText"];
                getAPIObj["linkText"] = defaultValueObj["LinkText"];
                getAPIObj["positiveBtnBg"] = defaultValueObj["PositiveBtnBg"];
                getAPIObj["positiveBtnBorder"] = defaultValueObj["PositiveBtnBorder"];
                getAPIObj["positiveBtnText"] = defaultValueObj["PositiveBtnText"];
                getAPIObj["positiveHoverBtnBg"] = defaultValueObj["PositiveHoverBtnBg"];
                getAPIObj["positiveHoverBtnBorder"] = defaultValueObj["PositiveHoverBtnBorder"];
                getAPIObj["positiveHoverBtnText"] = defaultValueObj["PositiveHoverBtnText"];
                getAPIObj["negativeBtnBg"] = defaultValueObj["NegativeBtnBg"];
                getAPIObj["negativeBtnBorder"] = defaultValueObj["NegativeBtnBorder"];
                getAPIObj["negativeBtnText"] = defaultValueObj["NegativeBtnText"];
                getAPIObj["negativeHoverBtnBg"] = defaultValueObj["NegativeHoverBtnBg"];
                getAPIObj["negativeHoverBtnBorder"] = defaultValueObj["NegativeHoverBtnBorder"];
                getAPIObj["negativeHoverBtnText"] = defaultValueObj["NegativeHoverBtnText"];
                getAPIObj["title"] = defaultValueObj["Title"];
                getAPIObj["subTitle"] = defaultValueObj["SubTitle"];

            }
            console.log("applyStyle:" + getAPIObj[0])
            for (key in getAPIObj) {

                if (getAPIObj[key] != null && getAPIObj[key] != "") {
                    $(`#${key}`).val(getAPIObj[key]);
                    document.documentElement.style.setProperty(`--${key}`, getAPIObj[key]);

                }

            }
            //console.log(data)
            //alert(data["ColorPreferences"]["Primary"]);
        });

    }
    applyStyle();
    let saveSettings = () => {
        let saveAPIObj = {
            UserId: @HttpContext.Current.Session["UserId"].ToString(),
            InstitutionId: @HttpContext.Current.Session["InstitutionId"].ToString(),
            primary: $('#primary').val() || "#333",
            secondary: $('#secondary').val() || "#555",
            headerBg: $('#headerBg').val() || "#232f3e",
            headerText: $('#headerText').val() || "#fff",
            TableHeaderBg: $('#TableHeaderBg').val() || "linear-gradient(#232f3e, #333)",
            TableHeaderText: $('#TableHeaderText').val() || "#fff",
            TableAlternateRowBg: $('#TableAlternateRowBg').val() || "#7a8ddb1a",
            TableAlternateRowText: $('#TableAlternateRowText').val() || "#333",
            TableRowHoverBg: $('#TableRowHoverBg').val() || "#efefef",
            TableRowHoverText: $('#TableRowHoverText').val() || "#333",
            linkText: $('#linkText').val() || "337ab7",
            positiveBtnBg: $('#positiveBtnBg').val() || "#232f3e",
            positiveBtnBorder: $('#positiveBtnBorder').val() || "transparent",
            positiveBtnText: $('#positiveBtnText').val() || "#fff",
            positiveHoverBtnBg: $('#positiveHoverBtnBg').val() || "transparent",
            positiveHoverBtnBorder: $('#positiveHoverBtnBorder').val() || "#232f3e",
            positiveHoverBtnText: $('#positiveHoverBtnText').val() || "#232f3e",
            negativeBtnBg: $('#negativeBtnBg').val() || "#d3d5d8",
            negativeBtnBorder: $('#negativeBtnBorder').val() || "transparent",
            negativeBtnText: $('#negativeBtnText').val() || "#000",
            negativeHoverBtnBg: $('#negativeHoverBtnBg').val() || "#fff",
            negativeHoverBtnBorder: $('#negativeHoverBtnBorder').val() || "#d3d5d8",
            negativeHoverBtnText: $('#negativeHoverBtnText').val() || "#000",
            title: $('#title').val() || "#032b5c",
            subTitle: $('#subTitle').val() || "#032b5c"
        }
        console.log("saveStyle:" + saveAPIObj);
        $.post(baseUrl + "api/ColorPreference/Save", saveAPIObj, function (data, status) {
            if (data["Status"]) {
                saved = true;
                removeStyles();
            }
        });
        //alert('use this method and saveAPIObj for saving value in DB ');

    };
    let restoreSettings = () => {
        if (confirm("Click Ok Button to Restore Color Settings. If not Please click close button!")) {
            let restoreAPIObj = {
                UserId: @HttpContext.Current.Session["UserId"].ToString(),
                InstitutionId: @HttpContext.Current.Session["InstitutionId"].ToString(),
                primary: defaultValueObj["primary"],
                secondary: defaultValueObj["secondary"],
                headerBg: defaultValueObj["headerBg"],
                headerText: defaultValueObj["headerText"],
                TableHeaderBg: defaultValueObj["TableHeaderBg"],
                TableHeaderText: defaultValueObj["TableHeaderText"],
                TableAlternateRowBg: defaultValueObj["TableAlternateRowBg"],
                TableAlternateRowText: defaultValueObj["TableAlternateRowText"],
                TableRowHoverBg: defaultValueObj["TableRowHoverBg"],
                TableRowHoverText: defaultValueObj["TableRowHoverText"],
                linkText: defaultValueObj["linkText"],
                positiveBtnBg: defaultValueObj["positiveBtnBg"],
                positiveBtnBorder: defaultValueObj["positiveBtnBorder"],
                positiveBtnText: defaultValueObj["positiveBtnText"],
                positiveHoverBtnBg: defaultValueObj["positiveHoverBtnBg"],
                positiveHoverBtnBorder: defaultValueObj["positiveHoverBtnBorder"],
                positiveHoverBtnText: defaultValueObj["positiveHoverBtnText"],
                negativeBtnBg: defaultValueObj["negativeBtnBg"],
                negativeBtnBorder: defaultValueObj["negativeBtnBorder"],
                negativeBtnText: defaultValueObj["negativeBtnText"],
                negativeHoverBtnBg: defaultValueObj["negativeHoverBtnBg"],
                negativeHoverBtnBorder: defaultValueObj["negativeHoverBtnBorder"],
                negativeHoverBtnText: defaultValueObj["negativeHoverBtnText"],
                title: defaultValueObj["title"],
                subTitle: defaultValueObj["subTitle"]
            }
            console.log("restoreStyle:" + restoreAPIObj);
            $.post(baseUrl + "api/ColorPreference/Save", restoreAPIObj, function (data, status) {
                console.log("restoreStyleresponse:" + data);
                if (data["Status"]) {
                    saved = true;
                    removeStyles();
                }
            });
            //$('#colorSetting').modal('hide');
            //alert('after close again make api to get new values');
            //applyStyle();
            //saved = false;
        }

    };
    (function ($) {


        $('.frameController iframe').attr('src', location.href);
        $('.colorGroup input[type="color"]').change(function () {

            document.documentElement.style.setProperty(`--${$(this).attr('id')}`, $(this).val());
            document.getElementById('frameController').contentWindow.document.documentElement.style.setProperty(`--${$(this).attr('id')}`, $(this).val());
        });



        /*$( "#chatBox" ).resizable({
            ghost: true,
            handles: "n, e, s, w",
            minHeight:430,
            stop:function(){
                let totalHeight = $('#chatBox').outerHeight() - 72;
                $('.chatBody').height(totalHeight);
                $('.group-user').height(totalHeight - 40)

            }
        });*/

        $('.patientHeaderProfile').hover(function () {
            $('.patientHeaderProfileDetails').slideToggle();
        })
        $('#deleteGroup').click(function (e) {
            e.preventDefault();
            chatService.deleteGroupDetails();
        });

        $('#addGroup').click(function (e) {
            e.preventDefault();

            if ($("#addressBook").hasClass("aqua") == true) {

                $('.chatBody').toggleClass('chatBodyHalf');
                $('.contactList').toggle();
                $('#groupsList').hide();
                $('#addressBook').toggleClass('aqua');
                $('.chatBox').toggleClass('chatBoxBig')
            }

            if ($("#addGroup").hasClass("aqua") == false) {
                $('.chatBody').hide();
                $('#groupsList').show();
                $('.chatBox').removeClass('chatBoxBig')
                $('#addGroup').toggleClass('aqua');

                chatService.groupaddressbookDetails();
            }
            else {
                $('.chatBody').show();
                $('#groupsList').hide();
                $('.chatBox').addClass('chatBoxBig')
                $('#addGroup').toggleClass('aqua');
                $('#call-page').hide();
                chatService.getaddressbookDetails($('#contactSearch').val());
            }
        })
        $(window).on("load", function () {

            $('#chatBox').attr("style", "display:none");
            $('#btnopenchat').hide();
            $("#showchatIcon").hide();
            if (window.localStorage['UserTypeId'] != "1" && window.localStorage['UserTypeId'] != "3") {
                utilService.initializeChat();
            }

            // create group option for Care Giver and Care Coordinator
            if (window.localStorage['UserTypeId'] != "5" && window.localStorage['UserTypeId'] != "6") {
                $('#addGroup').hide();
            }
        });

    })(jQuery);

    $('#addressBook').click(function (e) {
        e.preventDefault()

        if ($("#addGroup").hasClass("aqua") == true) {
            $('.chatBody').show();
            $('#groupsList').hide();
            $('.chatBox').addClass('chatBoxBig')
            $('#addGroup').toggleClass('aqua');
            $('#call-page').hide();
        }
        $('.chatBody').toggleClass('chatBodyHalf');
        $('.contactList').toggle();
        $('#groupsList').hide();
        $('#addressBook').toggleClass('aqua');

        $("#call-page").attr("style", "display:none");
        $('.chatBox').toggleClass('chatBoxBig')
        chatService.scrollToBottom();
    })

    $('#btnCreateGroup').click(function (e) {
        e.preventDefault()
        if ($("#groupname").val() == "") {
            alert("Please enter Group name");
            return false;
        }
        $("#groupcreateLoader").attr("style", "display:block")
        chatService.createGroup($("#groupname").val());
        $("#groupcreateLoader").attr("style", "display:none")
    })

    function openChatWindow() {
        if (window.localStorage['UserTypeId'] != "1" && window.localStorage['UserTypeId'] != "3") {
            utilService.openChatPage("");
        }
        else {
            $('#chatBox').attr("style", "display:none");
            $('#btnopenchat').attr("style", "display:none");
        }
    }

    function searchContact_onKeyPress() {
        $('#address-user > li:not(:contains(' + $('#contactSearch').val() + '))').hide();
        $('#address-user > li:contains(' + $('#contactSearch').val() + ')').show();

        /*var listItems = $("#address-user li");
        listItems.each(function (idx, li) {
            var product = $(li);
            console.log(product[0].innerHTML.toLowerCase().contains($('#contactSearch').val().toLowerCase()));
            // and the rest of your code
        });*/

    }
    $('#chatBoxOpener').click(function () {
        $('.chatBox').toggleClass('chatBoxClose');
        if ($('#chatBox').hasClass('chatBoxClose') == true) {

            $('#chatBox').attr('style', 'height:430px;width:630px;bottom: -430px !important;');
            //$('#chatBox').attr('style', 'height:430px;width:630px;bottom: -' + $('#chatBox').outerHeight(true) + 'px !important;');
        }
        else {
            $('#chatBox').attr('style', 'display: block;height:430px;width:630px');
        }

        let totalHeight = $('#chatBox').outerHeight() - 72;
        $('.chatBody').height(totalHeight);
        $('.group-user').height(totalHeight - 72)

        $('#address-user').height(totalHeight - 40);

        $(this).find('i').toggleClass('fa-arrow-up');
        $(this).find('i').toggleClass('fa-arrow-down');
    })
    // chat window
    function chatarrowclick() {
        $('.chatBox').toggleClass('chatBoxClose');
        $('#chatBoxOpener').find('i').toggleClass('fa-arrow-up');
        $('#chatBoxOpener').find('i').toggleClass('fa-arrow-down');
    }
    function openChatAttachmentDialog() {
        document.getElementById('filechat').click();
    }
    function handleFiles() {
        chatService.sendMediaMessage();
        //chatService.getaddressbookDetails($('#contactSearch').val());
    }
    function sendChatonKeyPress(evt) {
        var charCode = (evt.which) ? evt.which : event.keyCode;
        if (charCode == 13) {
            sendChatMessage()
            //chatService.getaddressbookDetails($('#contactSearch').val());
        }
        else {
            if (evt.target.value === "")
                chatService.endTypeingNot();
            else
                chatService.startTypeingNot();
        }
    }
    function sendChatMessage() {
        //chatService.createGroup();
        chatService.sendMessage();
        //chatService.getaddressbookDetails($('#contactSearch').val());
    }
    function audioCallUser() {

        if ($("#addressBook").hasClass("aqua") == true) {
            $('.chatBody').toggleClass('chatBodyHalf');
            $('.contactList').toggle();
            $('#groupsList').hide();
            $('#addressBook').toggleClass('aqua');
            $('.chatBox').toggleClass('chatBoxBig');
        }

        chatService.initiateCall();
    }
    function videoCallUser() {
        chatService.initiateVideCall();
    }
    function openUserChat(userType, viewUser) {
        chatService.fetchMessages(userType, viewUser.toString());
        //chatService.getaddressbookDetails($('#contactSearch').val());
    }

    function callAccept() {
        chatService.callAccept();
    }
    function callReject() {
        chatService.callReject();
    }
    function showchatOnCall() {
        $('.contactList').toggle();
        $('#groupsList').hide();
        if ($("#showchatIcon").hasClass("aqua") == false) {
            $("#call-page").attr("style", "display:none")
            $('#showchatIcon').toggleClass('aqua');
            $("#msg-page").attr("style", "display:block")
        }
        else {
            $("#call-page").attr("style", "display:flex")
            $('#showchatIcon').toggleClass('aqua');
            $("#msg-page").attr("style", "display:none")
        }

    }

    function makeResizableDiv(div) {
        // default size = 680 * 430
        const element = document.querySelector(div);
        const resizers = document.querySelectorAll(div + ' .resizer')
        const minimum_size = 20;
        let original_width = 0;
        let original_height = 0;
        let original_x = 0;
        let original_y = 0;
        let original_mouse_x = 0;
        let original_mouse_y = 0;
        for (let i = 0; i < resizers.length; i++) {
            const currentResizer = resizers[i];
            currentResizer.addEventListener('mousedown', function (e) {
                e.preventDefault()
                original_width = parseFloat(getComputedStyle(element, null).getPropertyValue('width').replace('px', ''));
                original_height = parseFloat(getComputedStyle(element, null).getPropertyValue('height').replace('px', ''));
                original_x = element.getBoundingClientRect().left;
                original_y = element.getBoundingClientRect().top;
                original_mouse_x = e.pageX;
                original_mouse_y = e.pageY;
                window.addEventListener('mousemove', resize)
                window.addEventListener('mouseup', stopResize)
            })

            function resize(e) {
                // restrict when minimizing the chat window
                if (e.pageX > original_mouse_x && original_width - (e.pageX - original_mouse_x) < 680)
                    return false;
                if (e.pageY > original_mouse_y && original_height - (e.pageY - original_mouse_y) < 430)
                    return false;

                // restrict when maximizing the chat window
                if (e.pageX < original_mouse_x && original_width - (e.pageX - original_mouse_x) > 1000)
                    return false;
                if (e.pageY < original_mouse_y && original_height - (e.pageY - original_mouse_y) > 550)
                    return false;

                if (currentResizer.classList.contains('bottom-right')) {
                    const width = original_width + (e.pageX - original_mouse_x);
                    const height = original_height + (e.pageY - original_mouse_y)
                    if (width > minimum_size) {
                        element.style.width = width + 'px'
                    }
                    if (height > minimum_size) {
                        element.style.height = height + 'px'
                    }
                }
                else if (currentResizer.classList.contains('bottom-left')) {
                    const height = original_height + (e.pageY - original_mouse_y)
                    const width = original_width - (e.pageX - original_mouse_x)
                    if (height > minimum_size) {
                        element.style.height = height + 'px'
                    }
                    if (width > minimum_size) {
                        element.style.width = width + 'px'
                        element.style.left = original_x + (e.pageX - original_mouse_x) + 'px'
                    }
                }
                else if (currentResizer.classList.contains('top-right')) {
                    const width = original_width + (e.pageX - original_mouse_x)
                    const height = original_height - (e.pageY - original_mouse_y)
                    if (width > minimum_size) {
                        element.style.width = width + 'px'
                    }
                    if (height > minimum_size) {
                        element.style.height = height + 'px'
                        element.style.top = original_y + (e.pageY - original_mouse_y) + 'px'
                    }
                }
                else {
                    const width = original_width - (e.pageX - original_mouse_x)
                    const height = original_height - (e.pageY - original_mouse_y)
                    if (width > minimum_size) {
                        element.style.width = width + 'px'
                        element.style.left = original_x + (e.pageX - original_mouse_x) + 'px'
                    }
                    if (height > minimum_size) {
                        element.style.height = height + 'px'
                        element.style.top = original_y + (e.pageY - original_mouse_y) + 'px'
                    }
                }
                let totalHeight = $('#chatBox').outerHeight() - 72;
                $('.chatBody').height(totalHeight);
                $('.group-user').height(totalHeight - 72)

                $('#address-user').height(totalHeight - 40);

            }

            function stopResize() {
                window.removeEventListener('mousemove', resize)
            }
        }
    }

    makeResizableDiv('.resizable')
</script>
<link rel="manifest" href="manifest.json" />
<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/7.13.2/firebase-app.js"></script>
<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/7.13.2/firebase-analytics.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.13.2/firebase-messaging.js"></script>
<script src="firebase-messaging-sw.js"></script>
<script src="@Url.Content("~/scripts/messaging/notification.js")"></script>