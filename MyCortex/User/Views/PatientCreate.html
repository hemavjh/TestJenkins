<script>
    $('#btnLogo').click(function () {
        $("#UserLogo").trigger('click');
    });
    
    $(document).ready(function () {

        var image = $('#UserLogo').val();
        $image_crop = $('#image_demo').croppie({
            enableExif: true,
            url: image,
            viewport: {
                width: 200,
                height: 200,
                type: 'rectangle' //rectangle
            },
            boundary: {
                width: 300,
                height: 300
            },
            points: {
                topLeftX: 0,
                topLeftY: 0,
                bottomRightX: 0,
                bottomRightY: 0
            }
        });

        $('#UserLogo').on('change', function () {
            var reader = new FileReader();
            reader.onload = function (event) {
                $image_crop.croppie('bind', {
                    url: event.target.result
                }).then(function () {
                });
            }
            for (var i = 0; i < this.files.length; i++) {
                var det = this.files[i];
                reader.readAsDataURL(det);
            }
            //reader.readAsDataURL(this.files[0]);
            $('#insertimageModal').modal('show');
        });

        $('.crop_image').click(function (event) {
            $image_crop.croppie('result', {
                type: 'base64',
                format: 'jpeg',
                //type: 'canvas',
                size: 'viewport'
                //size: {width: 150, height: 200}
            }).then(function (response) {
                $('#item-img-output').attr('src', response);
                $('#insertimageModal').modal('hide');
            });
        });

       //var image1 = $('#NationalLogo').val();
       // $image_crop1 = $('#image_demo1').croppie({
       //     enableExif: true,
       //     url: image1,
       //     //viewport: {
       //     //    width: 300,
       //     //    height: 200,
       //     //    type: 'rectangle' //rectangle
       //     //},
       //     boundary: {
       //         width: 300,
       //         height: 300
       //     },
       //     points: {
       //         topLeftX: 0,
       //         topLeftY: 0,
       //         bottomRightX: 0,
       //         bottomRightY: 0
       //     }
       // });

       // $('#NationalLogo').on('change', function () {
       //     var reader = new FileReader();
       //     reader.onload = function (event) {
       //         $image_crop1.croppie('bind', {
       //             url: event.target.result
       //         }).then(function () {
       //         });
       //     }
       //     reader.readAsDataURL(this.files[0]);
       //     $('#insertimageModal1').modal('show');
       // });

       // $('.crop_images').click(function (event) {
       //     $image_crop1.croppie('result', {
       //         type: 'base64',
       //         format: 'jpeg',
       //         //type: 'canvas',
       //         size: 'viewport'
       //         //size: {width: 150, height: 200}
       //     }).then(function (response) {
       //         $('#item-img-output1').attr('src', response);
       //         $('#insertimageModal1').modal('hide');
       //     });
       // });

        var image1 = $('#InsuranceLogo').val();
        $image_crop2 = $('#image_demo2').croppie({
            enableExif: true,
            url: image1,
            viewport: {
                width: 200,
                height: 200,
                type: 'rectangle' //rectangle
            },
            boundary: {
                width: 300,
                height: 300
            },
            points: {
                topLeftX: 0,
                topLeftY: 0,
                bottomRightX: 0,
                bottomRightY: 0
            }
        });

        $('#InsuranceLogo').on('change', function () {
            var reader = new FileReader();
            reader.onload = function (event) {
                $image_crop2.croppie('bind', {
                    url: event.target.result
                }).then(function () {
                });
            }
            reader.readAsDataURL(this.files[0]);
            $('#insertimageModal2').modal('show');
        });

        $('.insurancecrop_image').click(function (event) {
            $image_crop2.croppie('result', {
                type: 'base64',
                format: 'jpeg',
                //type: 'canvas',
                size: 'viewport'
                //size: {width: 150, height: 200}
            }).then(function (response) {
                $('#item-img-output2').attr('src', response);
                $('#insertimageModal2').modal('hide');
            });
        });
    });

    $(function () {
        var dtToday = new Date();

        var month = dtToday.getMonth() + 1;
        var day = dtToday.getDate();
        var year = dtToday.getFullYear();
        if (month < 10)
            month = '0' + month.toString();
        if (day < 10)
            day = '0' + day.toString();

        var maxDate = year + '-' + month + '-' + day;
        //$('#Date_Birth').attr('max', maxDate); //comment by Hema
        //document.getElementById("Expiry_Date").value = maxDate;
        //document.getElementById("Date_Birth").value = maxDate;

        setTimeout(function () {
            var maxdatedob = document.getElementById('maxdatedob').value;
            $('#Date_Birth').attr('max', maxdatedob);            
        }, 5000);
        $("#maxdatedob").trigger("change");
       
    });
    function SetmaxDateDOB() {
        var maxdatedob = document.getElementById('maxdatedob').value;        
        $('#Date_Birth').attr('max', maxdatedob);
    }
</script>
<script>
    var input = document.querySelector("#txtMobile");
    var inputPhoneNo = window.intlTelInput(input, {
        formatOnDisplay: true,
        separateDialCode: true,
        initialCountry:"AE",
       // onlyCountries: ['AE'],
        geoIpLookup: function (callback) {
            $.get("http://ipinfo.io", function () { }, "jsonp").always(function (resp) {
                var countryCode = (resp && resp.country) ? resp.country : "";
                callback(countryCode);
            });
        },
        //preferredCountries: ["in"],
        utilsScript: "scripts/utils.js",
    });
   // inputPhoneNo.setCountry('AE');
    //inputPhoneNo.setNumber("+91 98765 43210");

    function txtPhoneChange() {
        //alert("event fired");
        //var phoneNo = document.getElementById("txtPhone");

        //var txtiso2 = document.getElementById("txthdCountryiso2").value;
        //alert(txtiso2);


        const PhoneNumber = inputPhoneNo.getNumber();
        //alert(PhoneNumber);

        var countryData = inputPhoneNo.getSelectedCountryData();
        var countryCode = countryData.dialCode; // using updated doc, code has been replaced with dialCode
        var iso2 = countryData.iso2;
        countryCode = "+" + countryCode;
        //alert(countryCode);
        //alert(iso2);

        var number = document.getElementById("txtMobile").value;
        //alert(number);
        //alert(countryCode +"-" + number);

        document.getElementById("txthdCountryiso2").value = iso2;
        document.getElementById("txthdCountryCode").value = countryCode;
        //document.getElementById("txthdFullNumber").value = PhoneNumber;
        document.getElementById("txthdFullNumber").value = countryCode + "~" + number;

        //var txtiso2 = document.getElementById("txthdCountryiso2").value;
        //alert(txt);

        if (PhoneNumber != "") {
            var isValidNum = inputPhoneNo.isValidNumber();
            //alert(isValidNum);
            if (!isValidNum) {
                //toastr.error("Phone Number Invalid", "warning");
                //alert("Phone number invalid");
                swal.fire("Phone number invalid");
                document.getElementById("txthdFullNumber").value = "";
            }
            else {
                document.getElementById("txthdFullNumber").value = countryCode + "~" + number;
            }
        }

        //inputPhoneNo.setCountry(txtiso2);
    }
</script>
<style>
    .select2-container--default .select2-selection--single {
        background-color: #fff;
        border: 1px solid #ccc !important;
        border-radius: 4px;
        height: 34px;
        font-size: 14px;
        font-weight: 400;
        padding: 3px 3px;
    }

    .select2-container--default .select2-selection--multiple {
        background-color: #fff;
        border: 1px solid #ccc !important;
        border-radius: 4px;
        height: auto;
        font-size: 14px;
        font-weight: 400;
        padding: 1px 3px 4px 5px;
    }

    .select2-container--default .select2-selection--single .select2-selection__arrow {
        height: 26px;
        position: absolute;
        top: 4px;
        right: 7px;
        width: 20px;
    }
</style>
<input type="text" hidden="hidden" id="txthdCountryCode" ng-model="PhoneCountryCode" />
<input type="text" hidden="hidden" id="txthdCountryiso2" ng-model="PhoneCountryiso2" />
<input type="text" hidden="hidden" id="txthdFullNumber" />
<div class="row"
     ng-init="Patientcreatefunction();InstitutionBased_CountryStateList();Admin_View(3);PageParameter==1?currentTab=EditCurrentTab:currentTab='1';">
    <form class="form-horizontal" id="patientform" role="form" style="font-size: small" ng-submit="User_InsertUpdate();" ng-class="{'submitted': submitted}">
        <!-- ng-submit="User_InsertUpdate();"-->
        <div class="col-md-12">
            <h1 class="page-title">Patient</h1>
            <ul class="themeTabs">
                <li>
                    <a ng-class="{'themeTabActive':currentTab=='1'}" ng-click="currentTab='1'; TabClickLoad(currentTab)">
                        <i class="far fa-file"></i>Basic Info
                    </a>
                </li>
                <li>
                    <a ng-class="{'themeTabActive':currentTab=='2'}" ng-click="currentTab='2';TabClickLoad(currentTab)">
                        <i class="far fa-file-alt"></i>Additional Info
                    </a>
                </li>
                <li>
                    <a ng-class="{'themeTabActive':currentTab=='3'}" ng-click="currentTab='3';TabClickLoad(currentTab)">
                        <i class="fas fa-map-marker-alt"></i>Address Info
                    </a>
                </li>
                <li>
                    <a ng-class="{'themeTabActive':currentTab=='4'}" ng-click="currentTab='4';TabClickLoad(currentTab)">
                        <i class="far fa-address-card"></i>Emergency Contact Info
                    </a>
                </li>
                <li>
                    <a ng-class="{'themeTabActive':currentTab=='5'}" ng-click="currentTab='5';TabClickLoad(currentTab)">
                        <i class="far fa-hospital"></i>Medical Info
                    </a>
                </li>
                <li>
                    <a ng-class="{'themeTabActive':currentTab=='6'}" ng-click="currentTab='6';TabClickLoad(currentTab)">
                        <i class="fas fa-notes-medical"></i>Insurance Info
                    </a>
                </li>
                <li>
                    <a ng-class="{'themeTabActive':currentTab=='7'}" ng-click="currentTab='7'; TabClickLoad(currentTab)">
                        <i class="far fa-file"></i>Profile Documents
                    </a>
                </li>
            </ul>
            <div id="Div4">

                <div class="lds-ripple" id="chatLoaderPV" style="display: none;z-index:10000"><div></div><div></div></div>
                <div id="collapse1" class="panel panel-default bs-0 m-0 bt-0" ng-show="currentTab=='1'">
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-sm-4">
                                <div class="inputGroups">
                                    <label>
                                        First Name<sup>
                                            <font class='mandatory-field'>*</font>
                                        </sup>
                                    </label>
                                    <input type="text" class="form-control" id="Text5" name="FirstName" ng-model="FirstName"
                                           ng-init="FirstName=''" ng-required="true" onkeypress="ParticularSpec(event)"
                                           placeholder="" ng-maxlength="100" maxlength="100" ng-disabled="Pat_UserTypeId==2" />
                                </div>
                                <div class="inputGroups">
                                    <label>Middle Name</label>
                                    <input type="text" class="form-control" id="Text19" name="MiddleName"
                                           ng-model="MiddleName" ng-init="MiddleName=''"
                                           onkeypress="ParticularSpec(event)" placeholder="" ng-maxlength="100"
                                           maxlength="100" ng-disabled="Pat_UserTypeId==2" />
                                </div>
                                <div class="inputGroups">
                                    <label>
                                        Last Name<sup>
                                            <font class='mandatory-field'>*</font>
                                        </sup>
                                    </label>
                                    <input type="text" class="form-control" id="LastName" name="LastName"
                                           ng-model="LastName" ng-init="LastName=''" ng-required="true"
                                           onkeypress="ParticularSpec(event)" placeholder="" ng-maxlength="100"
                                           maxlength="100" ng-disabled="Pat_UserTypeId==2" />
                                </div>
                                <div class="inputGroups">
                                    <label>
                                        Gender<sup>
                                            <font class='mandatory-field'>*</font>
                                        </sup>
                                    </label>
                                    <!--<div id="divGender" class="ng-invalid ddlValidationBorder" ng-required="true">-->
                                    <select class="form-control" data-style="form-control" ng-model="GenderId" id="GenderId"  data-live-search="true"  data-collection-name="GenderList" ng-required="true" ng-change="PatientgetBase64Image();" ng-disabled="Pat_UserTypeId==2">
                                        <option value="0">Select</option>
                                        <!--<option ng-repeat="sel in GenderList" ng-selected="GenderId==sel.Id"
                                                value="{{sel.Id}}">
                                            {{sel.Gender_Name}}
                                        </option>-->
                                    </select>
                                    <!--</div>-->
                                </div>
                                <div class="inputGroups" ng-show="DropDownListValue==3">
                                    <label>
                                        MRN No.<sup>
                                            <font class='mandatory-field'>*</font>
                                        </sup>
                                    </label>
                                    <input type="text" class="form-control" id="T1" name="MNR_No" ng-model="MNR_No"
                                           ng-init="MNR_No=''" ng-required="true" placeholder="" ng-maxlength="50"
                                           maxlength="50" disabled />
                                    <!--maxlength="50" ng-disabled="Pat_UserTypeId==2" disabled />-->

                                </div>
                                <!--<div class="inputGroups">
                                        <label valign="top">Patient ID</label>
                                        <span>{{PatientNo}}</span>
                                </div>
                                <div class="inputGroups">
                                        <label>Short Name</label>
                                        <span>{{Createdby_ShortName}}</span>
                                </div>-->

                                <!--<div class="inputGroups">
                                    <label>
                                        National ID<sup>
                                            <font class='mandatory-field'>*</font>
                                        </sup>
                                    </label>
                                    <input type="text" class="form-control" id="Text9" name="NationalId" ng-required="true"
                                           ng-model="NationalId" ng-init="NationalId=''" placeholder="" ng-maxlength="50"
                                           maxlength="50" ng-disabled="Pat_UserTypeId==2" />
                                </div>-->
                                <div class="inputGroups">
                                    <label>
                                        {{Id3}}<sup>
                                            <!--<font class='mandatory-field'>*</font>-->
                                        </sup>
                                    </label>
                                    <input type="text" class="form-control" id="Text3" name="InsuranceId"
                                           ng-model="InsuranceId" ng-init="InsuranceId=''" placeholder="" ng-maxlength="50"
                                           maxlength="50" ng-disabled="Pat_UserTypeId==2" />
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="inputGroups">
                                    <label>
                                        Email<sup>
                                            <font class='mandatory-field'>*</font>
                                        </sup>
                                    </label>
                                    <input type="text" class="form-control" id="Text4" name="EmailId" ng-model="EmailId"
                                           ng-init="EmailId=''" ng-required="true" placeholder="" ng-maxlength="50"
                                           maxlength="50" style="text-transform: lowercase;" />
                                </div>
                                <div class="inputGroups">
                                    <label>Google Email</label>
                                    <input type="text" class="form-control" id="Text11" name="Google_EmailId"
                                           ng-model="Google_EmailId" ng-init="Google_EmailId=''"
                                           placeholder="" ng-maxlength="50" maxlength="50" style="text-transform: lowercase;" />
                                </div>
                                <div class="inputGroups">
                                    <label>Facebook Email</label>
                                    <input type="text" class="form-control" id="Text12" name="FB_EmailId"
                                           ng-model="FB_EmailId" ng-init="FB_EmailId=''" placeholder=""
                                           ng-maxlength="50" maxlength="50" style="text-transform: lowercase;" />
                                </div>
                                <div class="inputGroups">
                                    <label>Apple Email</label>
                                    <input type="text" class="form-control" id="auid" name="appleUserID"
                                           ng-model="appleUserID" ng-init="appleUserID=''"
                                           placeholder="" ng-maxlength="50" maxlength="50" style="text-transform: lowercase;" />
                                </div>
                                <div class="inputGroups">
                                    <label>
                                        Mobile No.<sup>
                                            <font class='mandatory-field'>*</font>
                                        </sup>
                                    </label>
                                    <!--<input type="text" class="form-control" id="Text6" name="MobileNo"
                                    ng-model="MobileNo" ng-init="MobileNo=''" ng-required="true" placeholder=""
                                    ng-maxlength="20" maxlength="20" onkeypress="OnlySpecCharNum(event)" />-->
                                    <input type="text" class="form-control" id="txtMobile" name="tel"
                                           ng-model="MobileNo" ng-required="true" onblur="txtPhoneChange()" />
                                </div>
                                <div class="inputGroups">
                                    <label>Group</label>
                                    <div ng-hide="Pat_UserTypeId==2">
                                        <select class="form-control" data-style="form-control" ng-model="SelectedGroup" multiple="multiple" id="SelectedGroup">
                                            <option value="0">Select</option>
                                        </select>
                                    </div>
                                    <span ng-show="Pat_UserTypeId==2">
                                        {{ViewGroupName}}
                                    </span>
                                </div>

                                <div class="inputGroups">
                                    <label>
                                        Patient ID
                                        <!--<sup>
                                            <font class='mandatory-field'>*</font>
                                        </sup>-->
                                    </label>
                                    <input type="text" class="form-control" id="PATIENT_ID" name="PATIENT_ID" ng-model="PATIENT_ID"
                                           ng-init="PATIENT_ID=''" placeholder="" ng-maxlength="50"
                                           maxlength="50" ng-disabled="Pat_UserTypeId==2" />
                                </div>

                                <div class="inputGroups mt-20">
                                    <label>Patient Type<sup><font class='mandatory-field'>*</font></sup></label>
                                    <input type="radio" value="1" ng-model="Patient_Type" ng-checked="checked='true'" ng-disabled="Pat_UserTypeId==2"> Standard
                                    <input type="radio" value="2" ng-model="Patient_Type" ng-disabled="Pat_UserTypeId==2"> Premium
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="inputGroups" style="font-size: 16px;">
                                    <label style="margin-left: 0px; margin-bottom: 12px;">Patient Profile Image</label>
                                </div>
                                <div class="inputGroups">
                                    <div class="imgAdd">
                                        <input type="file" id="UserLogo" fileread="uploadme"
                                               onchange="angular.element(this).scope().photoChange(this)"
                                               name="FileName" title="Click to Upload Photo "
                                               style="height: 0px !important" accept="image/x-png,image/gif,image/jpeg"
                                               ng-click="PhotoUplaodSelected()" />

                                        <div ng-if="(uploadme!=null || uploadme!='')" valign="top" rowspan="6">
                                            <img id="item-img-output" style=" width: 200px; height: 200px;" class="responsiveProfileImage" ng-src="{{uploadme}}" />
                                        </div>
                                        <div style="margin-top: 15px;">
                                            <a class="textRight theme-btn-2 mr-10" href="javascript:" ng-click="imageclearPatient();"
                                               title="Clear" ng-hide="Pat_UserTypeId==2">
                                                Clear
                                            </a>
                                            <div style="max-width: 250px;" class="theme-btn-1" ng-hide="Pat_UserTypeId==2">
                                                <label for="UserLogo" class="mb-0" title="Click to Upload Logo">
                                                    <i class="fa fa-upload" ng-disabled="Pat_UserTypeId==2"></i>
                                                    <span>Upload Profile Photo</span>
                                                </label>

                                            </div>
                                        </div>
                                    </div>
                                    <div class="modal" tabindex="-1" role="dialog" id="insertimageModal">
                                        <div class="modal-dialog" role="document" style="min-width: 700px">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h5 class="modal-title">Crop Image</h5>
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                </div>
                                                <div class="modal-body">
                                                    <div class="row">
                                                        <div class="col-md-12 text-center">
                                                            <div id="image_demo"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-primary crop_image">Crop and Save</button>
                                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!--<div class="col-sm-4">
                                <div class="inputGroups" style="font-size: 16px;">
                                    <label style=" margin-left: 0px; margin-top: 29px;">National ID image</label>
                                </div>
                                <div class="inputGroups">
                                    <div class="imgAdd2">
                                        <input type="file" id="NationalLogo" fileread="uploadme1"
                                               onchange="angular.element(this).scope().NationalphotoChange(this)"
                                               name="NationalPhotoFilename" title="Click to Upload Nationality Photo "
                                               style="height: 0px !important" accept="image/x-png,image/gif,image/jpeg"
                                               ng-click="NationalityPhotoUplaodSelected()" />-->

                                        <!--<div ng-if="(Gender_Name| lowercase)=='male' && (uploadme1==null || uploadme1=='' || uploadme1=='null' )" valign="top" rowspan="6">
                                            <img id="item-img-output1" style=" width: 300px; height: 200px;" class="responsiveProfileImage2" src="../../Images/National_Male.png" />
                                        </div>
                                        <div ng-if="(Gender_Name| lowercase)=='female' && (uploadme1==null || uploadme1=='' || uploadme1=='null' )" valign="top" rowspan="6">
                                            <img id="item-img-output1" style=" width: 300px; height: 200px;" class="responsiveProfileImage2" src="../../Images/National_Female.png" />
                                        </div>
                                        <div ng-if="(((Gender_Name| lowercase)!='female' && (Gender_Name| lowercase)!='male') && (uploadme1==null || uploadme1=='' || uploadme1=='null'))" valign="top" rowspan="6">
                                            <img id="item-img-output1" style=" width: 300px; height: 200px;" class="responsiveProfileImage2" src="../../Images/National_Male.png" />
                                        </div>-->
                                        <!--<div ng-if="(uploadme1!=null || uploadme1!='')" valign="top" rowspan="6">
                                            <img id="item-img-output1" style=" width: 300px; height: 200px;" class="responsiveProfileImage2" ng-src="{{uploadme1}}" />
                                        </div>
                                        <div style="margin-top: 15px;">
                                            <a class="textRight theme-btn-2 mr-10" href="javascript:" ng-click="imageclearPatientNational();"
                                               title="Clear" ng-hide="Pat_UserTypeId==2">
                                                Clear
                                            </a>
                                            <div style="max-width: 250px;" class="theme-btn-1" ng-hide="Pat_UserTypeId==2">
                                                <label for="NationalLogo" class="mb-0" title="Click to Upload Logo">
                                                    <i class="fa fa-upload" ng-disabled="Pat_UserTypeId==2"></i>
                                                    <span>Upload National Photo</span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="modal" tabindex="-1" role="dialog" id="insertimageModal1">
                                        <div class="modal-dialog" role="document" style="min-width: 700px">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h5 class="modal-title">Crop Image</h5>
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                </div>
                                                <div class="modal-body">
                                                    <div class="row">
                                                        <div class="col-md-12 text-center">
                                                            <div id="image_demo1"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-primary crop_images">Crop and Save</button>
                                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>-->

                        </div>
                    </div>

                </div>
                <div class="panel panel-default m-0 bt-0 bs-0" ng-show="currentTab=='2'">
                    <div class="panel-body" id="collapse2">
                        <div class="row">
                            <div class="col-sm-6">
                                <div class="inputGroups">
                                    <label>
                                        Nationality<sup>
                                            <!--<font class='mandatory-field'>*</font>-->
                                        </sup>
                                    </label>
                                    <!--<div id="divNationality" class="ng-invalid ddlValidationBorder" ng-required="true">-->
                                    <select class="form-control" data-style="form-control" ng-model="NationalityId" id="NationalityId"
                                            data-live-search="true" data-selectpicker data-collection-name="NationalityList"
                                            ng-disabled="Pat_UserTypeId==2">
                                        <option value="0">Select</option>
                                        <!--<option ng-repeat="sel in NationalityList" ng-selected="NationalityId==sel.Id"
                                                value="{{sel.Id}}">
                                            {{sel.Name}}
                                        </option>-->
                                    </select>
                                    <!--</div>-->
                                </div>
                                <div class="inputGroups">
                                    <label>
                                        Marital Status<sup>
                                            <font class='mandatory-field'>*</font>
                                        </sup>
                                    </label>
                                    <!--<div id="divPatientMarital" class="ng-invalid ddlValidationBorder" ng-required="true">-->
                                    <select class="form-control" data-style="form-control" ng-model="MaritalStatusId" id="MaritalStatusId"
                                            data-live-search="true" data-selectpicker data-collection-name="MaritalStatusList"
                                            ng-disabled="Pat_UserTypeId==2">
                                        <option value="0">Select</option>
                                        <!--<option ng-repeat="sel in MaritalStatusList" ng-selected="MaritalStatusId==sel.Id"
                                                value="{{sel.Id}}">
                                            {{sel.Name}}
                                        </option>-->
                                    </select>
                                    <!--</div>-->
                                </div>
                                <div class="inputGroups">
                                    <label>
                                        Ethnic Group<sup>
                                            <font class='mandatory-field'>*</font>
                                        </sup>
                                    </label>
                                    <!--<div id="divPatientEthnic" class="ng-invalid ddlValidationBorder" ng-required="true">-->
                                    <select class="form-control" data-style="form-control" ng-model="EthnicGroupId" id="EthnicGroupId"
                                            data-live-search="true" data-selectpicker data-collection-name="EthnicGroupList" ng-required="true"
                                            ng-disabled="Pat_UserTypeId==2">
                                        <option value="0">Select</option>
                                        <!--<option ng-repeat="sel in EthnicGroupList" ng-selected="EthnicGroupId==sel.Id"
                                                value="{{sel.Id}}">
                                            {{sel.Name}}
                                        </option>-->
                                    </select>
                                    <!--</div>-->
                                </div>
                                 <!--<div class="inputGroups">
                                    <label>UID</label>
                                    <input type="text" class="form-control" id="Text19" name="UserID" ng-model="UID" placeholder="" ng-maxlength="100"
                                            maxlength="100" />
                                </div>-->
                                <div class="inputGroups">
                                    <label>
                                        Date of Birth<sup>
                                            <font class='mandatory-field'>*</font>
                                        </sup>
                                    </label>
                                    <!--<div id="divDOB" class="ng-invalid ddlValidationBorder" ng-required="true">-->
                                    <input max="2099-12-31" type="date" id="Date_Birth" class="form-control" ng-model="DOB"
                                           style="width: 165px" ng-disabled="Pat_UserTypeId==2">
                                    <!-- this hidden box for bind the maximum date then apply max attribute-->
                                    <input type="hidden" id="maxdatedob" ng-model="maxdateDOB" value="{{maxdateDOB}}" onchange="SetmaxDateDOB();" />
                                    <!--<span class="input-group-addon">
                                        <i class="glyphicon glyphicon-th"></i>
                                    </span>-->
                                    <!--</div>-->
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="inputGroups">
                                    <label>Home Phone Number</label>
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <input type="text" class="form-control" id="HomeAreaCode"
                                                   ng-model="HomeAreaCode" ng-init="HomeAreaCode=''" maxlength="20"
                                                   ng-maxlength="20" placeholder=""
                                                   onkeypress="OnlySpecCharNum(event)" ng-disabled="Pat_UserTypeId==2">
                                        </div>
                                        <div class="col-sm-6">
                                            <input type="text" class="form-control" id="Text1"
                                                   ng-model="Home_PhoneNo" ng-init="Home_PhoneNo=''" maxlength="20"
                                                   ng-maxlength="20" placeholder=""
                                                   onkeypress="OnlySpecCharNum(event)" ng-disabled="Pat_UserTypeId==2">
                                        </div>
                                    </div>
                                </div>
                                <div class="inputGroups">
                                    <label>
                                        Blood Group<sup>
                                            <font class='mandatory-field'>*</font>
                                        </sup>
                                    </label>
                                    <!--<div id="divPatientBlood" class="ng-invalid ddlValidationBorder" ng-required="true">-->
                                    <select class="form-control" data-style="form-control" ng-model="BloodGroupId" id="BloodGroupId"
                                            data-live-search="true" data-selectpicker data-collection-name="BloodGroupList" ng-required="true"
                                            ng-disabled="Pat_UserTypeId==2">
                                        <option value="0">Select</option>
                                        <!--<option ng-repeat="sel in BloodGroupList" ng-selected="BloodGroupId==sel.Id"
                                                value="{{sel.Id}}">
                                            {{sel.BloodGroup_Name}}
                                        </option>-->
                                    </select>
                                    <!--</div>-->
                                </div>
                                <div class="inputGroups">
                                    <label>Chronic Condition</label>
                                    <div ng-hide="Pat_UserTypeId==2">
                                        <select class="form-control" data-style="form-control" ng-model="SelectedChronicCondition" multiple="multiple" id="SelectedChronicCondition">
                                            <option value="0">Select</option>
                                        </select>
                                    </div>
                                    <!--<span ng-hide="Pat_UserTypeId==2">
                                        {{ChronicCondition}}
                                    </span>-->
                                </div>
                                 <!--<div class="inputGroups">
                                <div class="inputGroups" style="font-size: 16px;">
                                    <label style=" margin-left: 0px; margin-top: 29px;">UID image</label>
                                </div>
                                     <div class="inputGroups">
                                         <div class="imgAdd2">
                                             <input type="file" id="UIDLogo" fileread="uploadme3"
                                               onchange="angular.element(this).scope().UIDfileChange(this)"
                                               name="UIdPhotoFilename" title="Click to Upload Nationality Photo "
                                               style="height: 0px !important" accept="image/x-png,image/gif,image/jpeg"
                                               ng-click="UIDPhotoUplaodSelected()" />
                                             <div ng-if="(uploadme3!=null || uploadme3!='')" valign="top" rowspan="6">
                                                 <img id="item-img-output3" style=" width: 300px; height: 200px;" class="responsiveProfileImage2" ng-src="{{uploadme3}}" />
                                             </div>
                                             <div style="margin-top: 15px;">
                                                 <a class="textRight theme-btn-2 mr-10" href="javascript:" ng-click="imageclearPatientUID();"title="Clear" ng-hide="Pat_UserTypeId==2">Clear
                                                 </a>
                                                 <div style="max-width: 250px;" class="theme-btn-1" ng-hide="Pat_UserTypeId==2">
                                                <label for="UIDLogo" class="mb-0" title="Click to Upload Logo">
                                                    <i class="fa fa-upload" ng-disabled="Pat_UserTypeId==2"></i>
                                                    <span>Upload UID Photo</span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="modal" tabindex="-1" role="dialog" id="insertimageModal1">
                                        <div class="modal-dialog" role="document" style="min-width: 700px">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h5 class="modal-title">Crop Image</h5>
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                </div>
                                                <div class="modal-body">
                                                    <div class="row">
                                                        <div class="col-md-12 text-center">
                                                            <div id="image_demo1"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-primary crop_images">Crop and Save</button>
                                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>-->
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel panel-default m-0 bt-0 bs-0" ng-show="currentTab=='3'">
                    <!--<div class="panel-heading containeralign" style="text-align: left;">
                        <h4 class="panel-title">
                            <a data-toggle="collapse" data-parent="#accordion" href="#collapse3">Address Info
                            </a>
                        </h4>
                    </div>-->
                    <div id="collapse3" class="panel-collapse">
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="inputGroups">
                                        <label>Address</label>
                                        <input type="text" class="form-control" id="Text14" ng-model="Address1"
                                               ng-init="Address1=''" maxlength="50" ng-maxlength="50" placeholder="" ng-disabled="Pat_UserTypeId==2">
                                    </div>
                                    <div class="inputGroups">
                                        <label>Street Address</label>
                                        <input type="text" class="form-control" id="Text15" ng-model="Address2"
                                               ng-init="Address2=''" maxlength="50" ng-maxlength="50" placeholder="" ng-disabled="Pat_UserTypeId==2">
                                    </div>
                                    <div class="inputGroups">
                                        <label>
                                            Country<sup>
                                                <font class='mandatory-field'>*</font>
                                            </sup>
                                        </label>
                                        <!--<div id="divCountry" class="ng-invalid ddlValidationBorder" ng-required="true">-->
                                        <!--<select class="form-control" data-style="form-control" data-live-search="true"
                                                id="CountryId" data-selectpicker
                                                data-collection-name="CountryNameList" ng-model="CountryId"
                                                ng-change="CountryBased_StateFunction();" ng-disabled="Pat_UserTypeId==2">
                                            <option value="0">Select</option>-->
                                        <!--<option ng-repeat="sel in CountryNameList"
                                                value="{{sel.Id}}">
                                            {{sel.CountryName}}
                                        </option>-->
                                        <!--</select>-->
                                        <select class="form-control" data-style="form-control" ng-model="CountryId" id="CountryId"
                                                data-live-search="true" data-selectpicker data-collection-name="CountryNameList"
                                                ng-change="CountryBasedStateFunction();" ng-disabled="Pat_UserTypeId==2">
                                            <option value="0">Select</option>

                                        </select>
                                        <!--</div>-->
                                    </div>
                                    <div class="inputGroups">
                                        <label>
                                            City<sup>
                                                <font class='mandatory-field'>*</font>
                                            </sup>
                                        </label>
                                        <!--<div id="divCity" class="ng-invalid ddlValidationBorder" ng-required="true">-->
                                        <!--<select class="form-control" data-style="form-control" data-live-search="true" id="CityId"
                                                data-selectpicker data-collection-name="LocationName_List" ng-model="CityId" ng-disabled="Pat_UserTypeId==2">
                                            <option value="0">Select</option>-->
                                        <!--<option ng-repeat="sel in LocationName_List"
                                                ng-required="true" value="{{sel.Id}}">
                                            {{sel.LocationName}}
                                        </option>-->
                                        <!--</select>-->
                                        <select class="form-control" data-style="form-control" ng-model="CityId" id="CityId"
                                                data-live-search="true" data-selectpicker data-collection-name="LocationName_List"
                                                ng-disabled="Pat_UserTypeId==2">
                                            <option value="0">Select</option>

                                        </select>
                                        <!--</div>-->
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="inputGroups">
                                        <label>Street Address Line 2</label>
                                        <input type="text" class="form-control" id="Text16" ng-model="Address3"
                                               ng-init="Addres3=''" maxlength="50" ng-maxlength="50" placeholder="" ng-disabled="Pat_UserTypeId==2">
                                    </div>
                                    <div class="inputGroups">
                                        <label>Postel/Zip Code</label>
                                        <input type="text" class="form-control" id="PostalZipCode"
                                               ng-model="PostalZipCode" ng-init="PostalZipCode=''" maxlength="20"
                                               ng-maxlength="20" placeholder="" onkeypress="SomeSpec(event)" ng-disabled="Pat_UserTypeId==2">
                                    </div>
                                    <div class="inputGroups">
                                        <label>
                                            State<sup>
                                                <font class='mandatory-field'>*</font>
                                            </sup>
                                        </label>
                                        <!--<div id="divState" class="ng-invalid ddlValidationBorder" ng-required="true">-->
                                        <select class="form-control" data-style="form-control" id="StateId"
                                                data-live-search="true" data-selectpicker
                                                data-collection-name="StateName_List" ng-model="StateId"
                                                ng-change="StateBasedCityFunction();" ng-disabled="Pat_UserTypeId==2">
                                            <option value="0">Select</option>
                                            <!--<option ng-repeat="sel in StateName_List"
                                                    value="{{sel.Id}}">
                                                {{sel.StateName}}
                                            </option>-->
                                        </select>
                                        <!--</div>-->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel panel-default m-0 bt-0" ng-show="currentTab=='4'">
                    <!--<div class="panel-heading containeralign" style="text-align: left;">
                        <h4 class="panel-title">
                            <a data-toggle="collapse" data-parent="#accordion" href="#collapse7">Emergency Contact
                                Info
                            </a>
                        </h4>
                    </div>-->
                    <div id="collapse7" class="panel-collapse">
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="inputGroups">
                                        <label>First Name</label>
                                        <input type="text" class="form-control" id="Text7"
                                               ng-model="EMERG_CONT_FIRSTNAME" ng-init="EMERG_CONT_FIRSTNAME=''"
                                               maxlength="100" ng-maxlength="100" placeholder=""
                                               onkeypress="ParticularSpec(event)" ng-disabled="Pat_UserTypeId==2">
                                    </div>
                                    <div class="inputGroups">
                                        <label>Last Name</label>
                                        <input type="text" class="form-control" id="Text10"
                                               ng-model="EMERG_CONT_LASTNAME" ng-init="EMERG_CONT_LASTNAME=''"
                                               maxlength="100" ng-maxlength="100" placeholder=""
                                               onkeypress="ParticularSpec(event)" ng-disabled="Pat_UserTypeId==2">
                                    </div>
                                    <div class="inputGroups">
                                        <label> Contact No.</label>
                                        <input type="text" class="form-control" name="Emergency_MobileNo"
                                               ng-model="Emergency_MobileNo" ng-init="Emergency_MobileNo=''"
                                               ng-maxlength="20" maxlength="20" onkeypress="OnlySpecCharNum(event)" ng-disabled="Pat_UserTypeId==2" />
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="inputGroups">
                                        <label>Middle Name</label>
                                        <input type="text" class="form-control" id="Text8"
                                               ng-model="EMERG_CONT_MIDDLENAME" ng-init="EMERG_CONT_MIDDLENAME=''"
                                               maxlength="100" ng-maxlength="100" placeholder=""
                                               onkeypress="ParticularSpec(event)" ng-disabled="Pat_UserTypeId==2">
                                    </div>
                                    <div class="inputGroups">
                                        <label>Relationship</label>
                                        <select class="form-control" data-style="form-control" ng-model="EMERG_CONT_RELATIONSHIP_ID" id="EMERG_CONT_RELATIONSHIP_ID" data-live-search="true" data-selectpicker data-collection-name="RelationshipList"
                                                ng-required="true" ng-disabled="Pat_UserTypeId==2">
                                            <option value="0">Select</option>
                                            <!--<option ng-repeat="sel in RelationshipList"
                                                    ng-selected="EMERG_CONT_RELATIONSHIP_ID==sel.Id" value="{{sel.Id}}">
                                                {{sel.Name}}
                                            </option>-->
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel panel-default m-0 bt-0" ng-show="currentTab=='5'">
                    <!--<div class="panel-heading containeralign" style="text-align: left;">
                        <h4 class="panel-title">
                            <a data-toggle="collapse" data-parent="#accordion" href="#collapse4">Medical Info
                            </a>
                        </h4>
                    </div>-->
                    <div id="collapse4" class="panel-collapse">
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="inputGroups">
                                        <label>
                                            Do you currently take medication?
                                        </label>
                                        <div class="inputNxt">
                                            <input type="radio" class="vmiddle" id="CURRENTLY_TAKEMEDICINE_YES"
                                                   ng-model="CURRENTLY_TAKEMEDICINE" value="1"
                                                   ng-change="ClearMedicine_Item()" ng-disabled="Pat_UserTypeId==2">
                                            <label class="mr-5" for="CURRENTLY_TAKEMEDICINE_YES">Yes</label>
                                            <input type="radio" id="CURRENTLY_TAKEMEDICINE_NO" class="vmiddle"
                                                   ng-model="CURRENTLY_TAKEMEDICINE" value="2" ng-checked="checked='true'"
                                                   ng-change="ClearMedicine_Item()" ng-disabled="Pat_UserTypeId==2">
                                            <label for="CURRENTLY_TAKEMEDICINE_NO">No</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="inputGroups">
                                        <label>Do you have any past medical history or problems ?</label>
                                        <div class="inputNxt">
                                            <input type="radio" class="vmiddle" id="PAST_MEDICALHISTORY_YES"
                                                   ng-model="PAST_MEDICALHISTORY" value="1"
                                                   ng-change="ClearMedicalHistory()" ng-disabled="Pat_UserTypeId==2">
                                            <label class="mr-5" for="PAST_MEDICALHISTORY_YES">Yes</label>
                                            <input type="radio" id="PAST_MEDICALHISTORY_NO" class="vmiddle"
                                                   ng-model="PAST_MEDICALHISTORY" value="2" ng-checked="checked='true'"
                                                   ng-change="ClearMedicalHistory()" ng-disabled="Pat_UserTypeId==2">
                                            <label for="PAST_MEDICALHISTORY_NO">No</label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <table cellpadding="0" cellspacing="0" border="0" width="100%" class="formControlGroup">
                                <tr ng-hide="CURRENTLY_TAKEMEDICINE ==2">

                                    <td colspan="2">
                                        <table class="table themeTable" template-pagination="custom/pager">
                                            <thead>
                                                <tr style="text-align: center">
                                                    <th width="7%">Sl No.</th>
                                                    <th width="40%">
                                                        Medicine Name<sup>
                                                            <font class='mandatory-field'>*</font>
                                                        </sup>
                                                    </th>
                                                    <th width="48%">Description</th>
                                                    <th width="5%">Action</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-if="CurrentMedicineflag==0 && (AddMedicines| filter : {Status :  1}).length==0">
                                                    <td colspan="4" style="text-align: center">
                                                        No Data Available
                                                    </td>
                                                </tr>
                                                <tr ng-repeat="row in AddMedicines | filter : {Status :  1}">
                                                    <td style="text-align: right">{{$index+1}}</td>
                                                    <td style="text-align: left">
                                                        <input type="text" class="form-control"
                                                               ng-model="row.MedicineName" maxlength="100"
                                                               ng-maxlength="100" ng-disabled="Pat_UserTypeId==2">
                                                    </td>
                                                    <td style="text-align: left">
                                                        <input type="text" class="form-control" ng-model="row.Remarks"
                                                               maxlength="100" ng-maxlength="100" ng-disabled="Pat_UserTypeId==2">
                                                    </td>
                                                    <td style="text-align: center">
                                                        <input type="image" src="../../Images/deleteNewIcon.png"
                                                               title='Click to delete'
                                                               ng-click="RemoveMedicine_Item(row.Id, $index)"
                                                               ng-model="row.selectedMedicine" style="width: 20px;"
                                                               id="Image4" ng-disabled="Pat_UserTypeId==2" />
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <a href="javascript:" ng-click="AddMedicine_Insert()" ng-hide="Pat_UserTypeId==2" class="theme-btn-1 mb-15">Add</a>
                                    </td>
                                </tr>
                                <tr ng-if="PAST_MEDICALHISTORY ==1">

                                    <td colspan="2">
                                        <table class="table themeTable" template-pagination="custom/pager">
                                            <thead>
                                                <tr style="text-align: center">
                                                    <th width="7%">Sl No.</th>
                                                    <th width="40%">
                                                        Medical History<sup>
                                                            <font class='mandatory-field'>*</font>
                                                        </sup>
                                                    </th>
                                                    <th width="48%">Description</th>
                                                    <th width="5%">Action</th>
                                                </tr>

                                            </thead>

                                            <tbody>
                                                <tr>
                                                    <td style="text-align: right">1</td>
                                                    <td style="text-align: left">
                                                        Diabetic
                                                    </td>
                                                    <td style="text-align: left">
                                                        <select class="form-control" data-style="form-control" ng-model="Diabetic" id="Select7" data-live-search="true" data-selectpicker data-collection-name="OptionTypeList"
                                                                ng-required="true" ng-disabled="Pat_UserTypeId==2" ng-change="ChangeDiabetic(0)">
                                                            <option value="0">Select</option>
                                                            <option ng-repeat="sel in OptionTypeList"
                                                                    ng-selected="Diabetic==sel.Id" value="{{sel.Id}}">
                                                                {{sel.OptionName}}
                                                            </option>
                                                        </select>
                                                    </td>
                                                    <td style="text-align: center">
                                                        <!-- <input type="image"
                                                        src="../../Images/deleteNewIcon.png"
                                                        title='Click to delete'
                                                        ng-click="RemoveMedicalHistory_Item(row.Id, $index)"
                                                        ng-model="row.selectedMedicine"
                                                        style="width: 20px;" id="Image3" />-->

                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td style="text-align: right">2</td>
                                                    <td style="text-align: left">
                                                        Hyper Tension
                                                    </td>
                                                    <td style="text-align: left">

                                                        <select class="form-control" data-style="form-control" ng-model="HyperTension" data-live-search="true" data-selectpicker data-collection-name="OptionTypeList"
                                                                id="Select6" ng-required="true" ng-disabled="Pat_UserTypeId==2" ng-change="ChangeHyperTension(1)">
                                                            <option value="0">Select</option>
                                                            <option ng-repeat="sel in OptionTypeList"
                                                                    ng-selected="HyperTension==sel.Id" value="{{sel.Id}}">
                                                                {{sel.OptionName}}
                                                            </option>
                                                        </select>
                                                    </td>
                                                    <td style="text-align: center">
                                                        <!-- <input type="image"
                                                        src="../../Images/deleteNewIcon.png"
                                                        title='Click to delete'
                                                        ng-click="RemoveMedicalHistory_Item(row.Id, $index)"
                                                        ng-model="row.selectedMedicine"
                                                        style="width: 20px;" id="Image3" />-->

                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td style="text-align: right">3</td>
                                                    <td style="text-align: left">
                                                        Cholestrol
                                                    </td>

                                                    <td style="text-align: left">
                                                        <select class="form-control" data-style="form-control" ng-model="Cholestrol" id="Select4" data-live-search="true" data-selectpicker data-collection-name="OptionTypeList"
                                                                ng-required="true" ng-disabled="Pat_UserTypeId==2" ng-change="ChangeCholestrol(2)">
                                                            <option value="0">Select</option>
                                                            <option ng-repeat="sel in OptionTypeList"
                                                                    ng-selected="Cholestrol==sel.Id" value="{{sel.Id}}">
                                                                {{sel.OptionName}}
                                                            </option>
                                                        </select>
                                                    </td>
                                                    <td style="text-align: center">
                                                        <!-- <input type="image"
                                                        src="../../Images/deleteNewIcon.png"
                                                        title='Click to delete'
                                                        ng-click="RemoveMedicalHistory_Item(row.Id, $index)"
                                                        ng-model="row.selectedMedicine"
                                                        style="width: 20px;" id="Image3" />-->

                                                    </td>
                                                </tr>


                                                <tr ng-repeat="row in AddMedicalHistory | filter : {Status :  1}">
                                                    <td style="text-align: right">{{$index+4}}</td>
                                                    <td style="text-align: left">
                                                        <input type="text" class="form-control"
                                                               ng-model="row.Medical_History" maxlength="100"
                                                               ng-maxlength="100" ng-disabled="Pat_UserTypeId==2">
                                                    </td>
                                                    <td style="text-align: left">
                                                        <input type="text" class="form-control" ng-model="row.Remarks"
                                                               maxlength="100" ng-maxlength="100" ng-disabled="Pat_UserTypeId==2">
                                                    </td>
                                                    <td style="text-align: center">
                                                        <input type="image" src="../../Images/deleteNewIcon.png"
                                                               title='Click to delete'
                                                               ng-click="RemoveMedicalHistory_Item(row.Id, $index)"
                                                               ng-model="row.selectedMedicine" style="width: 20px;"
                                                               id="Image1" ng-disabled="Pat_UserTypeId==2" />
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <a href="javascript:" ng-click="AddMedicalHistory_Insert()" ng-hide="Pat_UserTypeId==2" class="theme-btn-1 mb-15">Add</a>
                                    </td>

                                </tr>
                            </table>
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="inputGroups">
                                        <label>Is there a family history of the health problem(s) ?</label>
                                        <div class="inputNxt">
                                            <input class="vmiddle" type="radio" ng-model="FAMILYHEALTH_PROBLEMHISTORY"
                                                   id="FAMILYHEALTH_PROBLEMHISTORY_YES" value="1"
                                                   ng-change="ClearHealthProblem()" ng-disabled="Pat_UserTypeId==2">
                                            <label for="FAMILYHEALTH_PROBLEMHISTORY_YES" class="mr-5">Yes</label>

                                            <input class="vmiddle" type="radio" ng-model="FAMILYHEALTH_PROBLEMHISTORY"
                                                   id="FAMILYHEALTH_PROBLEMHISTORY_NO" value="2" ng-checked="checked='true'"
                                                   ng-change="ClearHealthProblem()" ng-disabled="Pat_UserTypeId==2">
                                            <label for="FAMILYHEALTH_PROBLEMHISTORY_NO">No</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <table cellpadding="0" cellspacing="0" border="0" width="100%" class="formControlGroup">
                                <tr ng-hide="FAMILYHEALTH_PROBLEMHISTORY==2">

                                    <td colspan="2">
                                        <table class="table themeTable" template-pagination="custom/pager">
                                            <thead>
                                                <tr style="text-align: center">
                                                    <th width="7%">Sl No.</th>
                                                    <th width="18%">
                                                        Relationship<sup>
                                                            <font class='mandatory-field'>*</font>
                                                        </sup>
                                                    </th>
                                                    <th width="60%">
                                                        Health Problem<sup>
                                                            <font class='mandatory-field'>*</font>
                                                        </sup>
                                                    </th>
                                                    <th width="40%">Description</th>
                                                    <th width="5%">Action</th>
                                                </tr>

                                            </thead>

                                            <tbody>
                                                <tr ng-if="MedicalHistoryflag==0 && (AddHealthProblem | filter : {Status :  1}).length==0">
                                                    <td colspan="5" style="text-align: center">
                                                        No Data Available
                                                    </td>
                                                </tr>
                                                <tr ng-repeat="row in AddHealthProblem | filter : {Status :  1}">
                                                    <td style="text-align: right">{{$index+1}}</td>
                                                    <td style="text-align: left">
                                                        <select ng-model="row.Relationship_Id" class="form-control"
                                                                ng-options="item1.Id as item1.Name for item1 in RelationshipList" ng-disabled="Pat_UserTypeId==2">
                                                            <option value="">Select</option>
                                                        </select>
                                                    </td>
                                                    <td style="text-align: left">
                                                        <input type="text" class="form-control"
                                                               ng-model="row.Health_Problem" maxlength="100"
                                                               ng-maxlength="100" ng-disabled="Pat_UserTypeId==2">
                                                    </td>
                                                    <td style="text-align: left">
                                                        <input type="text" class="form-control" ng-model="row.Remarks"
                                                               maxlength="100" ng-maxlength="100" ng-disabled="Pat_UserTypeId==2">
                                                    </td>
                                                    <td style="text-align: center">
                                                        <input type="image" src="../../Images/deleteNewIcon.png"
                                                               title='Click to delete'
                                                               ng-click="RemoveHealthProblem_Item(row.Id, $index)"
                                                               ng-model="row.selectedMedicine" style="width: 20px;"
                                                               id="Image2" ng-disabled="Pat_UserTypeId==2" />
                                                    </td>
                                                </tr>
                                            </tbody>


                                        </table>
                                        <a href="javascript:" ng-click="AddHealthProblem_Insert()" ng-hide="Pat_UserTypeId==2" class="theme-btn-1 mb-15">Add</a>
                                    </td>

                                </tr>
                            </table>

                            <div class="row">
                                <div class="col-sm-6">

                                    <div class="inputGroups">
                                        <label>
                                            Describe your diet
                                        </label>
                                        <select class="form-control" data-style="form-control" ng-model="DIETDESCRIBE_ID" id="Select9" data-live-search="true" data-selectpicker data-collection-name="DietTypeList"
                                                ng-required="true" ng-disabled="Pat_UserTypeId==2">
                                            <option value="0">Select</option>
                                            <option ng-repeat="sel in DietTypeList"
                                                    ng-selected="DIETDESCRIBE_ID==sel.Id" value="{{sel.Id}}">
                                                {{sel.Name}}
                                            </option>
                                        </select>
                                    </div>
                                    <div class="inputGroups">
                                        <label>Are you allergic to any substances?</label>
                                        <select class="form-control" data-style="form-control  mr-5 pull-left" ng-model="ALERGYSUBSTANCE_ID" data-live-search="true" data-selectpicker data-collection-name="AlergySubstanceList"
                                                id="Select12" ng-required="true" ng-disabled="Pat_UserTypeId==2">
                                            <option value="0">Select</option>
                                            <option ng-repeat="sel in AlergySubstanceList"
                                                    ng-selected="ALERGYSUBSTANCE_ID==sel.Id" value="{{sel.Id}}">
                                                {{sel.AllergyTypeName}}
                                            </option>
                                        </select>
                                        <input type="text" class="form-control" ng-model="ALERGYSUBSTANCE_TEXT"
                                               maxlength="100" ng-maxlength="100" ng-disabled="Pat_UserTypeId==2" />
                                    </div>
                                    <div class="inputGroups">
                                        <label>
                                            How often do you drink alcohol? How much at a time?
                                        </label>
                                        <select class="form-control" data-style="form-control  mr-5 pull-left" ng-model="ALCOHALSUBSTANCE_ID" data-live-search="true" data-selectpicker data-collection-name="ScheduleList"
                                                id="Select14" ng-required="true" ng-disabled="Pat_UserTypeId==2">
                                            <option value="0">Select</option>
                                            <option ng-repeat="sel in ScheduleList"
                                                    ng-selected="ALCOHALSUBSTANCE_ID==sel.Id" value="{{sel.Id}}">
                                                {{sel.Name}}
                                            </option>
                                        </select>
                                        <input type="text" class="form-control" ng-model="ALCOHALSUBSTANCE_TEXT"
                                               maxlength="100" ng-maxlength="100" ng-disabled="Pat_UserTypeId==2" />
                                    </div>
                                    <div class="inputGroups">
                                        <label>
                                            How often do you drink caffeinated beverages? How much at a time?
                                        </label>
                                        <select class="form-control" data-style="form-control mr-5 pull-left" ng-model="CAFFEINATED_BEVERAGESID" data-live-search="true" data-selectpicker data-collection-name="ScheduleList"
                                                id="Select8" ng-required="true" ng-disabled="Pat_UserTypeId==2">
                                            <option value="0">Select</option>
                                            <option ng-repeat="sel in ScheduleList"
                                                    ng-selected="CAFFEINATED_BEVERAGESID==sel.Id" value="{{sel.Id}}">
                                                {{sel.Name}}
                                            </option>
                                        </select>
                                        <input type="text" class="form-control" ng-model="CAFFEINATEDBEVERAGES_TEXT"
                                               maxlength="100" ng-maxlength="100" ng-disabled="Pat_UserTypeId==2" />
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="inputGroups">
                                        <label>Immunizations/vaccinations ? </label>
                                        <div class="inputNxt">
                                            <input type="radio" class="vmiddle" ng-model="VACCINATIONS"
                                                   id="VACCINATIONS_YES" value="1" ng-disabled="Pat_UserTypeId==2">
                                            <label for="VACCINATIONS_YES" class="mr-5">Yes </label>
                                            <input type="radio" class="vmiddle" ng-model="VACCINATIONS" id="VACCINATIONS_NO"
                                                   value="2" ng-checked="checked='true'" ng-disabled="Pat_UserTypeId==2">
                                            <label for="VACCINATIONS_NO">No </label>
                                        </div>
                                    </div>
                                    <div class="inputGroups">
                                        <label>How often do you exercise?</label>
                                        <select class="form-control" data-style="form-control  mr-5 pull-left" ng-model="EXCERCISE_SCHEDULEID" data-live-search="true" data-selectpicker data-collection-name="ScheduleList"
                                                id="Select11" ng-required="true" ng-disabled="Pat_UserTypeId==2">
                                            <option value="0">Select</option>
                                            <option ng-repeat="sel in ScheduleList"
                                                    ng-selected="EXCERCISE_SCHEDULEID==sel.Id" value="{{sel.Id}}">
                                                {{sel.Name}}
                                            </option>
                                        </select>
                                        <input type="text" class="form-control" ng-model="EXCERCISE_TEXT"
                                               maxlength="100" ng-maxlength="100" ng-disabled="Pat_UserTypeId==2" />
                                    </div>
                                    <div class="inputGroups">
                                        <label>
                                            If you smoke cigarettes (or other substances), how many
                                            do you smoke per day?
                                        </label>
                                        <select class="form-control" data-style="form-control  mr-5 pull-left" ng-model="SMOKESUBSTANCE_ID" data-live-search="true" data-selectpicker data-collection-name="ScheduleList"
                                                id="Select13" ng-required="true" ng-disabled="Pat_UserTypeId==2">
                                            <option value="0">Select</option>
                                            <option ng-repeat="sel in ScheduleList"
                                                    ng-selected="SMOKESUBSTANCE_ID==sel.Id" value="{{sel.Id}}">
                                                {{sel.Name}}
                                            </option>
                                        </select>
                                        <input type="text" class="form-control" ng-model="SMOKESUBSTANCE_TEXT"
                                               maxlength="100" ng-maxlength="100" ng-disabled="Pat_UserTypeId==2" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="panel panel-default m-0 bt-0" ng-show="currentTab=='6'">
                    <!--<div class="panel-heading containeralign" style="text-align: left;">
                        <h4 class="panel-title">
                            <a data-toggle="collapse" data-parent="#accordion" href="#collapse7">Emergency Contact
                                Info
                            </a>
                        </h4>
                    </div>-->
                    <div id="collapse10" class="panel-collapse">
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="inputGroups">
                                        <label>Member ID</label>
                                        <input type="text" class="form-control" id="Member_ID"
                                               ng-model="Member_ID" ng-init="Member_ID=''"
                                               maxlength="100" ng-maxlength="100" placeholder=""
                                               onkeypress="OnlySpecCharNum(event)" ng-disabled="Pat_UserTypeId==2">
                                    </div>
                                    <div class="inputGroups">
                                        <label>Policy Number</label>
                                        <input type="text" class="form-control" id="Policy_Number"
                                               ng-model="Policy_Number" ng-init="Policy_Number=''"
                                               maxlength="100" ng-maxlength="100" placeholder=""
                                               onkeypress="OnlySpecCharNum(event)" ng-disabled="Pat_UserTypeId==2">
                                    </div>
                                    <div class="inputGroups">
                                        <label>Reference ID</label>
                                        <input type="text" class="form-control" id="Reference_ID" name="Reference_ID"
                                               ng-model="Reference_ID" ng-init="Reference_ID=''"
                                               ng-maxlength="20" maxlength="20" onkeypress="OnlySpecCharNum(event)" ng-disabled="Pat_UserTypeId==2" />
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="inputGroups">
                                        <label>Expiry Date</label>
                                        <input max="2099-12-31" type="date" id="Expiry_Date" class="form-control" ng-model="ExpiryDate"
                                               style="width: 165px" ng-disabled="Pat_UserTypeId==2">
                                        <!--<input type="text" class="form-control" id="Text8"
                                        ng-model="EMERG_CONT_MIDDLENAME" ng-init="EMERG_CONT_MIDDLENAME=''"
                                        maxlength="100" ng-maxlength="100" placeholder=""
                                        onkeypress="ParticularSpec(event)" ng-disabled="Pat_UserTypeId==2">-->
                                    </div>
                                    <div class="inputGroups">
                                        <label>Payor Name</label>
                                        <select class="form-control" data-style="form-control" ng-model="SelectedPayor" ng-change="PayorBased_PlanFunction(0);" id="SelectedPayor" data-live-search="true" data-selectpicker data-collection-name="PayorMasterList"
                                                ng-required="true" ng-disabled="Pat_UserTypeId==2">
                                            <option value="0">Select</option>
                                            <option ng-repeat="sel in PayorMasterList"
                                                    ng-selected="SelectedPayor==sel.Id" value="{{sel.Id}}">
                                                {{sel.PayorName}}
                                            </option>
                                        </select>
                                    </div>
                                    <div class="inputGroups">
                                        <label>Plan Name</label>
                                        <select class="form-control" data-style="form-control" ng-model="SelectedPlan" id="SelectedPlan" data-live-search="true" data-selectpicker data-collection-name="PayorBasedPlanList"
                                                ng-required="true" ng-disabled="Pat_UserTypeId==2">
                                            <option value="0">Select</option>
                                            <option ng-repeat="sel in PayorBasedPlanList"
                                                    ng-selected="SelectedPlan==sel.Id" value="{{sel.Id}}">
                                                {{sel.PlanName}}
                                            </option>
                                        </select>
                                    </div>
                                </div>

                                <div class="col-sm-4">
                                    <div class="inputGroups" style="font-size: 16px;">
                                        <label style=" margin-left: 0px; margin-top: 29px;">{{Id3}} Image</label>
                                    </div>
                                    <div class="inputGroups">
                                        <div class="imgAdd2">
                                            <input type="file" id="InsuranceLogo" fileread="uploadme2"
                                                   onchange="angular.element(this).scope().InsurancephotoChange(this)"
                                                   name="InsurancePhotoFilename" title="Click to Upload {{Id3}} Photo "
                                                   style="height: 0px !important" accept="image/x-png,image/gif,image/jpeg"
                                                   ng-click="InsurancePhotoUplaodSelected()" />

                                            <div ng-if="(uploadme2!=null || uploadme2!='')" valign="top" rowspan="6">
                                                <img id="item-img-output2" style=" width: 300px; height: 200px;" class="responsiveProfileImage2" ng-src="{{uploadme2}}" />
                                            </div>

                                            <div style="margin-top: 15px;">
                                                <a class="textRight theme-btn-2 mr-10" href="javascript:" ng-click="imageclearPatientInsurance();"
                                                   title="Clear" ng-hide="Pat_UserTypeId==2">
                                                    Clear
                                                </a>
                                                <div style="max-width: 250px;" class="theme-btn-1" ng-hide="Pat_UserTypeId==2">
                                                    <label for="InsuranceLogo" class="mb-0" title="Click to Upload {{Id3}} Logo">
                                                        <i class="fa fa-upload" ng-disabled="Pat_UserTypeId==2"></i>
                                                        <span>Upload {{Id3}}</span>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="modal" tabindex="-1" role="dialog" id="insertimageModal2">
                                            <div class="modal-dialog" role="document" style="min-width: 700px">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h5 class="modal-title">Crop Image</h5>
                                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                            <span aria-hidden="true">&times;</span>
                                                        </button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <div class="row">
                                                            <div class="col-md-12 text-center">
                                                                <div id="image_demo2"></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-primary insurancecrop_image">Crop and Save</button>
                                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel panel-default m-0 bt-0" ng-show="currentTab=='7'">
                    <div id="collapse11" class="panel-collapse">
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="inputGroups">
                                        <label>{{Id1}}<sup ng-show="mandatory!=''"><font class="mandatory-field">*</font></sup></label>
                                        <input type="text" class="form-control" id="Text9" name="NationalId" 
                                               ng-model="NationalId" ng-init="NationalId=''" placeholder="" ng-maxlength="50"
                                               maxlength="50"  />
                                    </div>
                                    <div class="inputGroups">
                                        <div class="inputGroups" style="font-size: 16px;">
                                            <label style=" margin-left: 0px; margin-top: 29px;">{{Id1}} Image</label>
                                        </div>
                                        <div class="inputGroups">
                                            <div class="imgAdd2">
                                                <input type="file" id="Nationalityresumedoc" filereadmulti="NationalUploadme" multiple file-upload
                                                       onchange="angular.element(this).scope().NationalphotoChange(this, angular.element(this).scope().$index)"
                                                       name="NationalPhotoFilename" title="Click to Upload Nationality Photo "
                                                       style="height: 0px !important" accept="image/x-png,image/gif,image/jpeg"
                                                       ng-click="NationalityPhotoUplaodSelected()" />
                                                <div ng-if="(Nationalityresumedoc.length>0)"  valign="top" rowspan="6">
                                                    <div class="row">
                                                        <div class="col-sm-3" ng-repeat="l in NationalUploadme">
                                                            <img id="item-img-output1" style="width: 272px;height: 177px;" class="responsiveProfileImage2" ng-src="{{l}}" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div ng-if="(uploadme1!=null || uploadme1!='')" ng-hide="Nationalityresumedoc.length>0" valign="top" rowspan="6">
                                                    <img id="item-img-output1" style=" width: 300px; height: 200px;" class="responsiveProfileImage2" ng-src="{{uploadme1}}" />
                                                </div>
                                                <div style="margin-top: 15px;">
                                                    <a class="textRight theme-btn-2 mr-10" href="javascript:" ng-click="imageclearPatientNational();"
                                                       title="Clear">
                                                        Clear
                                                    </a>
                                                    <div style="max-width: 250px;" class="theme-btn-1">
                                                        <label for="Nationalityresumedoc" class="mb-0" title="Click to Upload Logo">
                                                            <i class="fa fa-upload"></i>
                                                            <span>Upload {{Id1}}</span>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                               
                            </div>
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="inputGroups">
                                        <label>{{Id2}}</label>
                                        <input type="text" class="form-control" id="Text19" name="UserID" ng-model="UID" placeholder="" ng-maxlength="100"
                                               maxlength="100" />
                                    </div>
                                    <div class="inputGroups">
                                        <div class="inputGroups" style="font-size: 16px;">
                                            <label style=" margin-left: 0px; margin-top: 29px;">{{Id2}} Image</label>
                                        </div>
                                        <div class="inputGroups">
                                            <div class="imgAdd2">
                                                <input type="file" id="UIDshow" filereadmulti="UIDLogo" multiple file-upload onchange="angular.element(this).scope().UIDfileChange(this)"
                                                       name="UIdPhotoFilename" title="Click to Upload Nationality Photo "
                                                       style="height: 0px !important" accept="image/x-png,image/gif,image/jpeg"
                                                       ng-click="UIDPhotoUplaodSelected()" />
                                                <div ng-if="(UIDshow.length>0)" valign="top" rowspan="6">
                                                    <div class="row">
                                                        <div class="col-sm-3" ng-repeat="U in UIDLogo">
                                                            <img id="item-img-output1" style="width: 272px;height: 177px;" class="responsiveProfileImage2" ng-src="{{U}}" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div ng-if="(uploadme3!=null || uploadme3!='')" ng-hide="UIDshow.length>0"  valign="top" rowspan="6">
                                                    <img id="item-img-output1" style=" width: 300px; height: 200px;" class="responsiveProfileImage2" ng-src="{{uploadme3}}" />
                                                </div>
                                                <div style="margin-top: 15px;">
                                                    <a class="textRight theme-btn-2 mr-10" href="javascript:" ng-click="imageclearPatientUID();" title="Clear">
                                                        Clear
                                                    </a>
                                                    <div style="max-width: 250px;" class="theme-btn-1">
                                                        <label for="UIDshow" class="mb-0" title="Click to Upload Logo">
                                                            <i class="fa fa-upload"></i>
                                                            <span>Upload {{Id2}}</span>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div style="text-align: center;">
            <button type="submit" class="theme-btn-1 mr-10 mtb-15 btn-save" id="btnsave1" ng-disabled="false" title="Click to Save"
                    ng-click="checkTab1();submitted=true">
                <!--ng-click="dddsubmitted=true"-->
                Save
            </button>
            <button type="button" class="theme-btn-2  btn-save mtb-15" title="Click to Cancel"
                    ng-click="Cancel_PatientEdit()">
                Cancel
            </button>
        </div>
    </form>
</div>
<script>
    //$(".date").bootstrapDP({
    //    format: "dd-M-yyyy",
    //    forceParse: false,
    //    endDate: '+0d',
    //    autoclose: true,
    //    todayHighlight: true,
    //    toggleActive: true,
    //    todayBtn: true
    //});
    $(document).ready(function () {
        $("#Text5").bind('paste', function () {
            setTimeout(function () {
                var text = $('#Text5').val();
                var dataFull = text.replace(/[^\w\s]/gi, '');
                var dataFull = dataFull.replace(/[0-9]/g, '');
                $('#Text5').val(dataFull);
            });

        });

        $("#Text19").bind('paste', function () {
            setTimeout(function () {
                var text = $('#Text19').val();
                var dataFull = text.replace(/[^\w\s]/gi, '');
                var dataFull = dataFull.replace(/[0-9]/g, '');
                $('#Text19').val(dataFull);
            });
        });

        $("#LastName").bind('paste', function () {
            setTimeout(function () {
                var text = $('#LastName').val();
                var dataFull = text.replace(/[^\w\s]/gi, '');
                var dataFull = dataFull.replace(/[0-9]/g, '');
                $('#LastName').val(dataFull);
            });
        });
    });
</script>